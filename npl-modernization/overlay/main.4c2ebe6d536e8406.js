"use strict";var rR=Object.defineProperty,y_=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,oR=Object.prototype.propertyIsEnumerable,v_=(Y,Ge,ze)=>Ge in Y?rR(Y,Ge,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Y[Ge]=ze,D_=(Y,Ge)=>{for(var ze in Ge||(Ge={}))iR.call(Ge,ze)&&v_(Y,ze,Ge[ze]);if(y_)for(var ze of y_(Ge))oR.call(Ge,ze)&&v_(Y,ze,Ge[ze]);return Y};(self.webpackChunkfrontend_overlay=self.webpackChunkfrontend_overlay||[]).push([[179],{457:()=>{function Y(t){return"function"==typeof t}function Ge(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ze=Ge(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ir(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Et{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof ze?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{dd(o)}catch(s){e=null!=e?e:[],s instanceof ze?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ze(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dd(e);else{if(e instanceof Et){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ir(n,e)}remove(e){const{_finalizers:n}=this;n&&ir(n,e),e instanceof Et&&e._removeParent(this)}}Et.EMPTY=(()=>{const t=new Et;return t.closed=!0,t})();const ld=Et.EMPTY;function fd(t){return t instanceof Et||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function dd(t){Y(t)?t():t.unsubscribe()}const kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Io={setTimeout(t,e,...n){const{delegate:r}=Io;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Io;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function hd(t){Io.setTimeout(()=>{const{onUnhandledError:e}=kn;if(!e)throw t;e(t)})}function pd(){}const b_=Ia("C",void 0,void 0);function Ia(t,e,n){return{kind:t,value:e,error:n}}let Rn=null;function To(t){if(kn.useDeprecatedSynchronousErrorHandling){const e=!Rn;if(e&&(Rn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Rn;if(Rn=null,n)throw r}}else t()}class Ta extends Et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fd(e)&&e.add(this)):this.destination=S_}static create(e,n,r){return new ai(e,n,r)}next(e){this.isStopped?Ma(function E_(t){return Ia("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ma(function __(t){return Ia("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ma(b_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const C_=Function.prototype.bind;function Sa(t,e){return C_.call(t,e)}class I_{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){So(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){So(r)}else So(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){So(n)}}}class ai extends Ta{constructor(e,n,r){let i;if(super(),Y(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&kn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sa(e.next,o),error:e.error&&Sa(e.error,o),complete:e.complete&&Sa(e.complete,o)}):i=e}this.destination=new I_(i)}}function So(t){kn.useDeprecatedSynchronousErrorHandling?function w_(t){kn.useDeprecatedSynchronousErrorHandling&&Rn&&(Rn.errorThrown=!0,Rn.error=t)}(t):hd(t)}function Ma(t,e){const{onStoppedNotification:n}=kn;n&&Io.setTimeout(()=>n(t,e))}const S_={closed:!0,next:pd,error:function T_(t){throw t},complete:pd},Mo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oa(t){return t}let he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function O_(t){return t&&t instanceof Ta||function M_(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}(t)&&fd(t)}(n)?n:new ai(n,r,i);return To(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=md(r))((i,o)=>{const s=new ai({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mo](){return this}pipe(...n){return function gd(t){return 0===t.length?Oa:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=md(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function md(t){var e;return null!==(e=null!=t?t:kn.Promise)&&void 0!==e?e:Promise}const A_=Ge(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oo=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new yd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A_}next(n){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ld:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,ir(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new he;return n.source=this,n}}return t.create=(e,n)=>new yd(e,n),t})();class yd extends Oo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ld}}function jt(t){return e=>{if(function x_(t){return Y(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yt(t,e,n,r,i){return new N_(t,e,n,r,i)}class N_ extends Ta{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function M(t,e){return jt((n,r)=>{let i=0;n.subscribe(Yt(r,o=>{r.next(t.call(e,o,i++))}))})}var Aa=function(t,e){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Aa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var D=function(){return D=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},D.apply(this,arguments)};function hn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Zt(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function pn(t,e){var r,i,o,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return function u(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(6===c[0]&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function ui(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function Dd(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(p){return Promise.resolve(p).then(h,f)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(v,m){o.push([h,g,v,m])>1||u(h,g)})},p&&(i[h]=p(i[h])))}function u(h,p){try{!function c(h){h.value instanceof gn?Promise.resolve(h.value.v).then(l,f):d(o[0][2],h)}(r[h](p))}catch(g){d(o[0][3],g)}}function l(h){u("next",h)}function f(h){u("throw",h)}function d(h,p){h(p),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Na(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const _d=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ed(t){return Y(null==t?void 0:t.then)}function wd(t){return Y(t[Mo])}function Cd(t){return Symbol.asyncIterator&&Y(null==t?void 0:t[Symbol.asyncIterator])}function Id(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Td=function tE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sd(t){return Y(null==t?void 0:t[Td])}function Md(t){return Dd(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield gn(n.read());if(i)return yield gn(void 0);yield yield gn(r)}}finally{n.releaseLock()}})}function Od(t){return Y(null==t?void 0:t.getReader)}function Xt(t){if(t instanceof he)return t;if(null!=t){if(wd(t))return function nE(t){return new he(e=>{const n=t[Mo]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_d(t))return function rE(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ed(t))return function iE(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hd)})}(t);if(Cd(t))return Ad(t);if(Sd(t))return function oE(t){return new he(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Od(t))return function sE(t){return Ad(Md(t))}(t)}throw Id(t)}function Ad(t){return new he(e=>{(function aE(t,e){var n,r,i,o;return Zt(this,void 0,void 0,function*(){try{for(n=bd(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mn(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ao(t,e,n=1/0){return Y(e)?Ao((r,i)=>M((o,s)=>e(r,o,i,s))(Xt(t(r,i))),n):("number"==typeof e&&(n=e),jt((r,i)=>function uE(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,f=!1;const d=()=>{f&&!u.length&&!c&&e.complete()},h=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let v=!1;Xt(n(g,l++)).subscribe(Yt(e,m=>{null==i||i(m),o?h(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<r;){const m=u.shift();s?mn(e,s,()=>p(m)):p(m)}d()}catch(m){e.error(m)}}))};return t.subscribe(Yt(e,h,()=>{f=!0,d()})),()=>{null==a||a()}}(r,i,t,n)))}function xd(t=1/0){return Ao(Oa,t)}const Nd=new he(t=>t.complete());function Fa(t){return t[t.length-1]}function xo(t){return function lE(t){return t&&Y(t.schedule)}(Fa(t))?t.pop():void 0}function ka(t,e=0){return jt((n,r)=>{n.subscribe(Yt(r,i=>mn(r,t,()=>r.next(i),e),()=>mn(r,t,()=>r.complete(),e),i=>mn(r,t,()=>r.error(i),e)))})}function Pd(t,e=0){return jt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Fd(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{mn(n,e,()=>{const r=t[Symbol.asyncIterator]();mn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ln(t,e){return e?function yE(t,e){if(null!=t){if(wd(t))return function dE(t,e){return Xt(t).pipe(Pd(e),ka(e))}(t,e);if(_d(t))return function pE(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ed(t))return function hE(t,e){return Xt(t).pipe(Pd(e),ka(e))}(t,e);if(Cd(t))return Fd(t,e);if(Sd(t))return function gE(t,e){return new he(n=>{let r;return mn(n,e,()=>{r=t[Td](),mn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Y(null==r?void 0:r.return)&&r.return()})}(t,e);if(Od(t))return function mE(t,e){return Fd(Md(t),e)}(t,e)}throw Id(t)}(t,e):Xt(t)}function Ra(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ai({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function X(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(X).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ja(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bE=re({__forward_ref__:re});function Va(t){return t.__forward_ref__=Va,t.toString=function(){return X(this())},t}function V(t){return function kd(t){return"function"==typeof t&&t.hasOwnProperty(bE)&&t.__forward_ref__===Va}(t)?t():t}class Z extends Error{constructor(e,n){super(function Ba(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function F(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function No(t,e){const n=e?` in ${e}`:"";throw new Z(-201,`No provider for ${Re(t)} found${n}`)}function ot(t,e){null==t&&function ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ha(t){return Rd(t,Po)||Rd(t,jd)}function Rd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ld(t){return t&&(t.hasOwnProperty($a)||t.hasOwnProperty(SE))?t[$a]:null}const Po=re({\u0275prov:re}),$a=re({\u0275inj:re}),jd=re({ngInjectableDef:re}),SE=re({ngInjectorDef:re});var L=(()=>((L=L||{})[L.Default=0]="Default",L[L.Host=1]="Host",L[L.Self=2]="Self",L[L.SkipSelf=4]="SkipSelf",L[L.Optional=8]="Optional",L))();let Ua;function yn(t){const e=Ua;return Ua=t,e}function Vd(t,e,n){const r=Ha(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&L.Optional?null:void 0!==e?e:void No(X(t),"Injector")}var Vt=(()=>{return(t=Vt||(Vt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vt;var t})();const OE="undefined"!=typeof globalThis&&globalThis,AE="undefined"!=typeof window&&window,xE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ne=OE||"undefined"!=typeof global&&global||AE||xE,or={},ie=[],Fo=re({\u0275cmp:re}),Bd=re({\u0275mod:re}),tn=re({\u0275fac:re}),ci=re({__NG_ELEMENT_ID__:re}),qd={};function sr(t){return function vn(t){return{toString:t}.toString()}(()=>{const e={type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(qd[t.id]=t.type),e})}function pt(t,e){const n=t[Bd]||null;if(!n&&!0===e)throw new Error(`Type ${X(t)} does not have '\u0275mod' property.`);return n}const j=11;function Bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Tt(t){return Array.isArray(t)&&!0===t[1]}function St(t){return null!==t.template}function jE(t){return 0!=(512&t[2])}function Un(t,e){return t.hasOwnProperty(tn)?t[tn]:null}class HE{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zd(t){return t.type.prototype.ngOnChanges&&(t.setInput=UE),$E}function $E(){const t=Kd(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UE(t,e,n,r){const i=Kd(t)||function qE(t,e){return t[Wd]=e}(t,{previous:or,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new HE(u&&u.currentValue,e,s===or),t[r]=e}const Wd="__ngSimpleChanges__";function Kd(t){return t[Wd]||null}let Xa;function ge(t){return!!t.listen}const Jd={createRenderer:(t,e)=>function eu(){return void 0!==Xa?Xa:"undefined"!=typeof document?document:void 0}()};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function at(t,e){return _e(e[t.index])}function ut(t,e){const n=e[t];return Bt(n)?n:n[0]}function nu(t){return 128==(128&t[2])}function Zd(t){t[18]=0}function ru(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const k={lFrame:ah(null),bindingsEnabled:!0};function w(){return k.lFrame.lView}function Me(){let t=th();for(;null!==t&&64===t.type;)t=t.parent;return t}function th(){return k.lFrame.currentTNode}function uw(t,e){const n=k.lFrame;n.bindingIndex=n.bindingRootIndex=t,function su(t){k.lFrame.currentDirectiveIndex=t}(e)}function uu(t){k.lFrame.currentQueryIndex=t}function lw(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oh(t,e,n){if(n&L.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&L.Host||(i=lw(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=k.lFrame=sh();return r.currentTNode=e,r.lView=t,!0}function Uo(t){const e=sh(),n=t[1];k.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sh(){const t=k.lFrame,e=null===t?null:t.child;return null===e?ah(t):e}function ah(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function uh(){const t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ch=uh;function qo(){const t=uh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(t){k.lFrame.selectedIndex=t}function Go(t,e,n){lh(t,e,3,n)}function zo(t,e,n,r){(3&t[2])===n&&lh(t,e,n,r)}function cu(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function lh(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<o||-1==o)&&(Dw(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Dw(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class pi{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wo(t,e,n){const r=ge(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];fu(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function fu(t){return 64===t.charCodeAt(0)}function hr(t){return 32767&t}function pr(t,e){let n=function Cw(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let du=!0;function Jo(t){const e=du;return du=t,e}let Iw=0;function hu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Yo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function mh(t,e,n){if(n&L.Optional)return t;No(e,"NodeInjector")}function yh(t,e,n,r){if(n&L.Optional&&void 0===r&&(r=null),0==(n&(L.Self|L.Host))){const i=t[9],o=yn(void 0);try{return i?i.get(e,r,n&L.Optional):Vd(e,r,n&L.Optional)}finally{yn(o)}}return mh(r,e,n)}const Dh={};function Mw(){return new gr(Me(),w())}function Ow(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=function Xo(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,d=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<d;h++){const p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){const h=s[u];if(h&&St(h)&&h.type===n)return u}return null}(a,s,n,null==r?function jo(t){return 2==(2&t.flags)}(a)&&du:r!=s&&0!=(3&a.type),i&L.Host&&o===a);return null!==l?yi(e,s,l,a):Dh}function yi(t,e,n,r){let i=t[n];const o=e.data;if(function bw(t){return t instanceof pi}(i)){const s=i;s.resolving&&function _E(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,`Circular dependency in DI detected for ${t}${n}`)}(Re(o[n]));const a=Jo(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?yn(s.injectImpl):null;oh(t,r,L.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function vw(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=zd(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&yn(u),Jo(a),s.resolving=!1,ch()}}return i}function bh(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function _h(t,e){return!(t&L.Self||t&L.Host&&e)}class gr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return function vh(t,e,n,r=L.Default,i){if(null!==t){const o=function Aw(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ci)?t[ci]:void 0;return"number"==typeof e?e>=0?255&e:Mw:e}(n);if("function"==typeof o){if(!oh(e,t,r))return r&L.Host?mh(i,n,r):yh(e,n,r,i);try{const s=o(r);if(null!=s||r&L.Optional)return s;No(n)}finally{ch()}}else if("number"==typeof o){let s=null,a=pu(t,e),u=-1,c=r&L.Host?e[16][6]:null;for((-1===a||r&L.SkipSelf)&&(u=-1===a?Yo(t,e):e[a+8],-1!==u&&_h(r,!1)?(s=e[1],a=hr(u),e=pr(u,e)):a=-1);-1!==a;){const l=e[1];if(bh(o,a,l.data)){const f=Ow(a,e,n,s,r,c);if(f!==Dh)return f}u=e[a+8],-1!==u&&_h(r,e[1].data[a+8]===c)&&bh(o,a,e)?(s=l,a=hr(u),e=pr(u,e)):a=-1}}}return yh(e,n,r,i)}(this._tNode,this._lView,e,r,n)}}class W{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function $t(t,e){t.forEach(n=>Array.isArray(n)?$t(n,e):e(n))}function es(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const _i={},ns="ngTempTokenPath",$w=/\n/gm,Mh="__source",qw=re({provide:String,useValue:re});let Ei;function Oh(t){const e=Ei;return Ei=t,e}function Qw(t,e=L.Default){if(void 0===Ei)throw new Z(203,"");return null===Ei?Vd(t,void 0,e):Ei.get(t,e&L.Optional?null:void 0,e)}function A(t,e=L.Default){return(function ME(){return Ua}()||Qw)(V(t),e)}const Gw=A;function Eu(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Z(900,"");let i,o=L.Default;for(let s=0;s<r.length;s++){const a=r[s],u=zw(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function zw(t){return t.__NG_DI_FLAG__}const Lh="__ngContext__";function $e(t,e){t[Lh]=e}function Tu(t){const e=function Ii(t){return t[Lh]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mu(t,e){return undefined(t,e)}function Ti(t){const e=t[3];return Tt(e)?e[3]:e}function Ou(t){return qh(t[13])}function Au(t){return qh(t[4])}function qh(t){for(;null!==t&&!Tt(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let o,s=!1;Tt(r)?o=r:Bt(r)&&(s=!0,r=r[0]);const a=_e(r);0===t&&null!==n?null==i?function Jh(t,e,n){ge(t)?t.appendChild(e,n):e.appendChild(n)}(e,n,a):qn(e,n,a,i||null,!0):1===t&&null!==n?qn(e,n,a,i||null,!0):2===t?function Lu(t,e,n){const r=function ss(t,e){return ge(t)?t.parentNode(e):e.parentNode}(t,e);r&&function I0(t,e,n,r){ge(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function M0(t,e,n,r,i){const o=n[7];o!==_e(n)&&Er(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];Si(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function Gh(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ru(i,-1)),n.splice(r,1)}function Fu(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function C0(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof pi)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function w0(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):_e(e[s]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&ge(e[j])&&e[j].destroy();const n=e[17];if(null!==n&&Tt(e[3])){n!==e[3]&&Gh(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qn(t,e,n,r,i){ge(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function np(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ju(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&$e(_e(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ju(t,e,n.child,r,i,o,!1),Er(e,t,i,a,o);else if(32&u){const c=Mu(n,r);let l;for(;l=c();)Er(e,t,i,l,o);Er(e,t,i,a,o)}else 16&u?rp(t,e,r,n,i,o):Er(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Si(t,e,n,r,i,o){ju(n,r,t.firstChild,e,i,o,!1)}function rp(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Er(e,t,i,u[c],o);else ju(t,e,u,s[3],i,o,!0)}function Vu(t,e,n){ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zu(t){return t.ngOriginalError}function sC(t,...e){t.error(...e)}class xi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function oC(t){return t&&t.ngErrorLogger||sC}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zu(e);for(;n&&zu(n);)n=zu(n);return n||null}}const hC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ne))();function qt(t){return t instanceof Function?t():t}function Mt(t){return 0==(1&t)}function wp(t,e){return t?":not("+e.trim()+")":e}function IC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Mt(s)&&(e+=wp(o,i),i=""),r=s,o=o||!Mt(r);n++}return""!==i&&(e+=wp(o,i)),e}const R={};function kp(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];uu(i),s.contentQueries(2,e[o],o)}}}function Ni(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Zd(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[j]=a||t&&t[j],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Cr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function oc(t,e,n,r,i){const o=th(),s=function iu(){return k.lFrame.isParent}(),u=t.data[e]=function qC(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),function aw(){return k.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function hi(){const t=k.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return function Ht(t,e){const n=k.lFrame;n.currentTNode=t,n.isParent=e}(o,!0),o}function Ir(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Pi(t,e,n){Uo(e);try{const r=t.viewQuery;null!==r&&pc(1,r,n);const i=t.template;null!==i&&Rp(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kp(t,e),t.staticViewQueries&&pc(2,t.viewQuery,n);const o=t.components;null!==o&&function HC(t,e){for(let n=0;n<e.length;n++)uI(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,qo()}}function Tr(t,e,n,r){const i=e[2];if(256!=(256&i)){Uo(e);try{Zd(e),function nh(t){return k.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Rp(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Go(e,c,null)}else{const c=t.preOrderHooks;null!==c&&zo(e,c,0,null),cu(e,0)}if(function sI(t){for(let e=Ou(t);null!==e;e=Au(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ru(o,1),i[2]|=1024}}}(e),function oI(t){for(let e=Ou(t);null!==e;e=Au(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];nu(r)&&Tr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&kp(t,e),s){const c=t.contentCheckHooks;null!==c&&Go(e,c)}else{const c=t.contentHooks;null!==c&&zo(e,c,1),cu(e,1)}!function VC(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)_n(~i);else{const o=i,s=n[++r],a=n[++r];uw(s,o),a(2,e[o])}}}finally{_n(-1)}}(t,e);const a=t.components;null!==a&&function BC(t,e){for(let n=0;n<e.length;n++)aI(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&pc(2,u,r),s){const c=t.viewCheckHooks;null!==c&&Go(e,c)}else{const c=t.viewHooks;null!==c&&zo(e,c,2),cu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,ru(e[3],-1))}finally{qo()}}}function $C(t,e,n,r){const i=e[10],s=function Yd(t){return 4==(4&t[2])}(e);try{!s&&i.begin&&i.begin(),s&&Pi(t,e,r),Tr(t,e,n,r)}finally{!s&&i.end&&i.end()}}function Rp(t,e,n,r,i){const o=function Je(){return k.lFrame.selectedIndex}(),s=2&r;try{_n(-1),s&&e.length>20&&function Cp(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&Go(e,o,n)}else{const o=t.preOrderHooks;null!==o&&zo(e,o,0,n)}_n(n)}(t,e,20,!1),n(r,i)}finally{_n(o)}}function ms(t,e,n,r,i,o,s,a,u,c){const l=20+r,f=l+i,d=function UC(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:R);return n}(l,f),h="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function qp(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function JC(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function aI(t,e){const n=ut(e,t);if(nu(n)){const r=n[1];80&n[2]?Tr(r,n,r.template,n[8]):n[5]>0&&lc(n)}}function lc(t){for(let r=Ou(t);null!==r;r=Au(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Tr(s,o,s.template,o[8])}else o[5]>0&&lc(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ut(n[r],t);nu(i)&&i[5]>0&&lc(i)}}function uI(t,e){const n=ut(e,t),r=n[1];(function cI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Pi(r,n,n[8])}function hc(t,e,n){const r=e[10];r.begin&&r.begin();try{Tr(t,e,t.template,n)}catch(i){throw function eg(t,e){const n=t[9],r=n?n.get(xi,null):null;r&&r.handleError(e)}(e,i),i}finally{r.end&&r.end()}}function Jp(t){!function dc(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Tu(n),i=r[1];$C(i,r,i.template,n)}}(t[8])}function pc(t,e,n){uu(0),e(t,n)}const fI=(()=>Promise.resolve(null))();const gc=new W("INJECTOR",-1);class ng{get(e,n=_i){if(n===_i){const r=new Error(`NullInjectorError: No provider for ${X(e)}!`);throw r.name="NullInjectorError",r}return n}}const mc=new W("Set Injector scope."),Fi={},pI={};let yc;function rg(){return void 0===yc&&(yc=new ng),yc}function ig(t,e=null,n=null,r){const i=og(t,e,n,r);return i._resolveInjectorDefTypes(),i}function og(t,e=null,n=null,r){return new gI(t,n,e||rg(),r)}class gI{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&$t(n,a=>this.processProvider(a,e,n)),$t([e],a=>this.processInjectorType(a,[],o)),this.records.set(gc,Sr(void 0,this));const s=this.records.get(mc);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:X(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=_i,r=L.Default){this.assertNotDestroyed();const i=Oh(this),o=yn(void 0);try{if(!(r&L.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function wI(t){return"function"==typeof t||"object"==typeof t&&t instanceof W}(e)&&Ha(e);a=u&&this.injectableDefInScope(u)?Sr(vc(e),Fi):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&L.Self?rg():this.parent).get(e,n=r&L.Optional&&n===_i?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[ns]=s[ns]||[]).unshift(X(e)),i)throw s;return function Ww(t,e,n,r){const i=t[ns];throw e[Mh]&&i.unshift(e[Mh]),t.message=function Kw(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=X(e);if(Array.isArray(e))i=e.map(X).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):X(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($w,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ns]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{yn(o),Oh(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(X(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processInjectorType(e,n,r){if(!(e=V(e)))return!1;let i=Ld(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Ld(o)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(s);try{$t(i.imports,f=>{this.processInjectorType(f,n,r)&&(void 0===l&&(l=[]),l.push(f))})}finally{}if(void 0!==l)for(let f=0;f<l.length;f++){const{ngModule:d,providers:h}=l[f];$t(h,p=>this.processProvider(p,d,h||ie))}}this.injectorDefTypes.add(s);const u=Un(s)||(()=>new s);this.records.set(s,Sr(u,Fi));const c=i.providers;if(null!=c&&!a){const l=e;$t(c,f=>this.processProvider(f,l,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=Mr(e=V(e))?e:V(e&&e.provide);const o=function yI(t,e,n){return ag(t)?Sr(void 0,t.useValue):Sr(function sg(t,e,n){let r;if(Mr(t)){const i=V(t);return Un(i)||vc(i)}if(ag(t))r=()=>V(t.useValue);else if(function DI(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Eu(t.deps||[]));else if(function vI(t){return!(!t||!t.useExisting)}(t))r=()=>A(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(!function _I(t){return!!t.deps}(t))return Un(i)||vc(i);r=()=>new i(...Eu(t.deps))}return r}(t),Fi)}(e);if(Mr(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Sr(void 0,Fi,!0),s.factory=()=>Eu(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===Fi&&(n.value=pI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function EI(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=V(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function vc(t){const e=Ha(t),n=null!==e?e.factory:Un(t);if(null!==n)return n;if(t instanceof W)throw new Z(204,!1);if(t instanceof Function)return function mI(t){const e=t.length;if(e>0)throw function bi(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Z(204,!1);const n=function IE(t){const e=t&&(t[Po]||t[jd]);if(e){const n=function TE(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Z(204,!1)}function Sr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ag(t){return null!==t&&"object"==typeof t&&qw in t}function Mr(t){return"function"==typeof t}let At=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return ig({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return ig({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=_i,t.NULL=new ng,t.\u0275prov=B({token:t,providedIn:"any",factory:()=>A(gc)}),t.__NG_ELEMENT_ID__=-1,t})();function mg(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Cr(s,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(function vs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ja(i,a):2==o&&(r=ja(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}(u,c,!0),null!==t&&(Wo(i,t,c),null!==u.classes&&Vu(i,t,u.classes),null!==u.styles&&function ip(t,e,n){ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}(i,t,u.styles)));const l=r.createRenderer(t,e),f=Ni(n,function jp(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ms(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}(e),null,e.onPush?64:16,n[20],u,r,l,o||null,null);return s.firstCreatePass&&(function Zo(t,e,n){!function Tw(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ci)&&(r=n[ci]),null==r&&(r=n[ci]=Iw++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}(function mi(t,e){const n=pu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,hu(r.data,t),hu(e,null),hu(r.blueprint,null));const i=Yo(t,e),o=t.injectorIndex;if(function hh(t){return-1!==t}(i)){const s=hr(i),a=pr(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}(u,n),s,e.type),function Gp(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}(s,u),function zp(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(u,n.length,1)),function ys(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}(n,f),n[20]=f}function yg(t,e,n,r,i){const o=n[1],s=function KC(t,e,n){const r=Me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),function Wp(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Un(i.type)),s=new pi(o,St(i),null);t.blueprint[r]=s,n[r]=s,qp(t,e,0,r,Ir(t,n,i.hostVars,R),i)}(t,r,e,Ir(t,e,1,null),n));const i=yi(e,t,r.directiveStart,r);$e(i,e);const o=at(r,e);return o&&$e(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(u=>u(s,e)),e.contentQueries){const u=Me();e.contentQueries(1,s,u.directiveStart)}const a=Me();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_n(a.index),qp(n[1],a,0,a.directiveStart,a.directiveEnd,e),function Qp(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}(e,s)),s}function xI(t,e){!function Qo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}(Tu(t)[1],Me())}function Nc(t){return!!t&&"function"==typeof t.then}const gT=function qg(t){return!!t&&"function"==typeof t.subscribe},ws="en-US";let Hm=ws;class dy{}class uM{resolveComponentFactory(e){throw function aM(t){const e=Error(`No component factory found for ${X(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ms=(()=>{class t{}return t.NULL=new uM,t})();function cM(){return Ur(Me(),w())}function Ur(t,e){return new qr(at(t,e))}let qr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=cM,t})();class py{}let hM=(()=>{class t{}return t.\u0275prov=B({token:t,providedIn:"root",factory:()=>null}),t})();class Uc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pM=new Uc("13.3.12"),qc={};function Os(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(_e(o)),Tt(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&Os(u[1],u,c,r)}const s=n.type;if(8&s)Os(t,e,n.child,r);else if(32&s){const a=Mu(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=np(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ti(e[16]);Os(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class gM extends class $i{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Os(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Tt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(function Pu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Gh(i,r),e>0&&(t[n-1][4]=r[4]);const o=es(t,10+e);!function y0(t,e){Si(t,e,e[j],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}(e,r),es(n,r))}this._attachedToViewContainer=!1}!function zh(t,e){if(!(256&e[2])){const n=e[j];ge(n)&&n.destroyNode&&Si(t,e,n,3,null,null),function b0(t){let e=t[13];if(!e)return Fu(t[1],t);for(;e;){let n=null;if(Bt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Bt(e)&&Fu(e[1],e),e=e[3];null===e&&(e=t),Bt(e)&&Fu(e[1],e),n=e&&e[4]}e=n}}(e)}}(this._lView[1],this._lView)}onDestroy(e){!function Hp(t,e,n,r){const i=function Yp(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function Zp(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function fc(t){for(;t;){t[2]|=64;const e=Ti(t);if(jE(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D0(t,e){Si(t,e,e[j],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,"");this._appRef=e}}{constructor(e){super(e),this._view=e}detectChanges(){Jp(this._view)}checkNoChanges(){}get context(){return null}}class my extends Ms{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=function Le(t){return t[Fo]||null}(e);return new Qc(n,this.ngModule)}}function yy(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Qc extends dy{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function TC(t){return t.map(IC).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return yy(this.componentDef.inputs)}get outputs(){return yy(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function yM(t,e){return{get:(n,r,i)=>{const o=t.get(n,qc,i);return o!==qc||r===qc?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(py,Jd),a=o.get(hM,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function Bp(t,e,n){if(ge(t))return t.selectRootElement(e,n===Vt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):function Nu(t,e,n){if(ge(t))return t.createElement(e,n);{const r=null!==n?function WE(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}(s.createRenderer(null,this.componentDef),c,function mM(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),f=this.componentDef.onPush?576:528,d=function vg(t,e){return{components:[],scheduler:t||hC,clean:fI,playerHandler:e||null,flags:0}}(),h=ms(0,null,null,1,0,null,null,null,null,null),p=Ni(null,h,d,f,null,null,s,u,a,o);let g,v;Uo(p);try{const m=mg(l,this.componentDef,p,s,u);if(l)if(r)Wo(u,l,["ng-version",pM.full]);else{const{attrs:y,classes:b}=function SC(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Mt(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Wo(u,l,y),b&&b.length>0&&Vu(u,l,b.join(" "))}if(v=function tu(t,e){return t.data[e]}(h,20),void 0!==n){const y=v.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const E=n[b];y.push(null!=E?Array.from(E):null)}}g=yg(m,this.componentDef,p,d,[xI]),Pi(h,p,null)}finally{qo()}return new DM(this.componentType,g,Ur(v,p),p,v)}}class DM extends class sM{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new gM(i),this.componentType=e}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Qr{}const Gr=new Map;class by extends Qr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new my(this);const r=pt(e);this._bootstrapComponents=qt(r.bootstrap),this._r3Injector=og(e,n,[{provide:Qr,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver}],X(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=At.THROW_IF_NOT_FOUND,r=L.Default){return e===At||e===Qr||e===gc?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Gc extends class _M{}{constructor(e){super(),this.moduleType=e,null!==pt(e)&&function EM(t){const e=new Set;!function n(r){const i=pt(r,!0),o=i.id;null!==o&&(function vy(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${X(e)} vs ${X(e.name)}`)}(o,Gr.get(o),r),Gr.set(o,r));const s=qt(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new by(this.moduleType,e)}}function zc(t){return e=>{setTimeout(t,void 0,e)}}const an=class BM extends Oo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const f=e;a=null===(i=f.next)||void 0===i?void 0:i.bind(f),u=null===(o=f.error)||void 0===o?void 0:o.bind(f),c=null===(s=f.complete)||void 0===s?void 0:s.bind(f)}this.__isAsync&&(u=zc(u),a&&(a=zc(a)),c&&(c=zc(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Et&&e.add(l),l}};function Ps(...t){}Symbol;const sl=new W("Application Initializer");let al=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ps,this.reject=Ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Nc(o))n.push(o);else if(gT(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(A(sl,8))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yy=new W("Platform Initializer"),ll=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EO=new W("appBootstrapListener"),Tn=new W("LocaleId",{providedIn:"root",factory:()=>Gw(Tn,L.Optional|L.SkipSelf)||function wO(){return"undefined"!=typeof $localize&&$localize.locale||ws}()}),SO=(()=>Promise.resolve(0))();function fl(t){"undefined"==typeof Zone?SO.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class et{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function MO(){let t=ne.requestAnimationFrame,e=ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xO(t){const e=()=>{!function AO(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hl(t),t.isCheckStableRunning=!0,dl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Zy(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Xy(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Zy(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Xy(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,hl(t),dl(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!et.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(et.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OO,Ps,Ps);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const OO={};function dl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xy(t){t._nesting--,dl(t)}class NO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let pl=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{et.assertNotInAngularZone(),fl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fl(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(A(et))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),PO=(()=>{class t{constructor(){this._applications=new Map,gl.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return gl.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class FO{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let gl=new FO,Wn=null;const ev=new W("AllowMultipleToken"),tv=new W("PlatformOnDestroy");function nv(t,e,n=[]){const r=`Platform: ${e}`,i=new W(r);return(o=[])=>{let s=ml();if(!s||s.injector.get(ev,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function jO(t){if(Wn&&!Wn.get(ev,!1))throw new Z(400,"");Wn=t;const e=t.get(rv),n=t.get(Yy,null);n&&n.forEach(r=>r())}(function BO(t=[],e){return At.create({name:e,providers:[{provide:mc,useValue:"platform"},{provide:tv,useValue:()=>Wn=null},...t]})}(a,r))}return function VO(t){const e=ml();if(!e)throw new Z(401,"");return e}()}}function ml(){var t;return null!==(t=null==Wn?void 0:Wn.get(rv))&&void 0!==t?t:null}let rv=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function HO(t,e){let n;return n="noop"===t?new NO:("zone.js"===t?void 0:t)||new et({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:et,useValue:a}];return a.run(()=>{const c=At.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),f=l.injector.get(xi,null);if(!f)throw new Z(402,"");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:h=>{f.handleError(h)}});l.onDestroy(()=>{yl(this._modules,l),d.unsubscribe()})}),function $O(t,e,n){try{const r=n();return Nc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(f,a,()=>{const d=l.injector.get(al);return d.runInitializers(),d.donePromise.then(()=>(function lS(t){ot(t,"Expected localeId to be defined"),"string"==typeof t&&(Hm=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Tn,ws)||ws),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=iv({},r);return function RO(t,e,n){const r=new Gc(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ov);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Z(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(tv,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(A(At))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function iv(t,e){return Array.isArray(e)?e.reduce(iv,t):Object.assign(Object.assign({},t),e)}let ov=(()=>{class t{constructor(n,r,i,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new he(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new he(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{et.assertNotInAngularZone(),fl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{et.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function vE(...t){const e=xo(t),n=function fE(t,e){return"number"==typeof Fa(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Xt(r[0]):xd(n)(Ln(r,e)):Nd}(s,a.pipe(function DE(t={}){const{connector:e=(()=>new Oo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,f=!1;const d=()=>{null==a||a.unsubscribe(),a=void 0},h=()=>{d(),s=u=void 0,l=f=!1},p=()=>{const g=s;h(),null==g||g.unsubscribe()};return jt((g,v)=>{c++,!f&&!l&&d();const m=u=null!=u?u:e();v.add(()=>{c--,0===c&&!f&&!l&&(a=Ra(p,i))}),m.subscribe(v),!s&&c>0&&(s=new ai({next:y=>m.next(y),error:y=>{f=!0,d(),a=Ra(h,n,y),m.error(y)},complete:()=>{l=!0,d(),a=Ra(h,r),m.complete()}}),Xt(g).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Z(405,"");let i;i=n instanceof dy?n:this._injector.get(Ms).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function LO(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Qr),a=i.create(At.NULL,[],r||i.selector,o),u=a.location.nativeElement,c=a.injector.get(pl,null),l=c&&a.injector.get(PO);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),yl(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Z(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;yl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(EO,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(A(et),A(At),A(xi),A(al))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oA=nv(null,"core",[]);let Ls=null;const Ft=new W("DocumentToken");function Mv(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class kv{}class kl extends class Ax extends class uA{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function aA(t){Ls||(Ls=t)}(new kl)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function xx(){return Ji=Ji||document.querySelector("base"),Ji?Ji.getAttribute("href"):null}();return null==n?null:function Nx(t){zs=zs||document.createElement("a"),zs.setAttribute("href",t);const e=zs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ji=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mv(document.cookie,e)}}let zs,Ji=null;class Rl{static init(){!function kO(t){gl=t}(new Rl)}addToWindow(e){ne.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),ne.getAllAngularRootElements=()=>e.getAllRootElements(),ne.frameworkStabilizers||(ne.frameworkStabilizers=[]),ne.frameworkStabilizers.push(r=>{const i=ne.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?function zi(){return Ls}().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}const Qv=nv(oA,"browser",[{provide:ll,useValue:"browser"},{provide:Yy,useValue:function Kx(){kl.makeCurrent(),Rl.init()},multi:!0},{provide:Ft,useFactory:function Yx(){return function KE(t){Xa=t}(document),document},deps:[]}]);function Wv(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function je(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){Wv(o,r,i,s,a,"next",u)}function a(u){Wv(o,r,i,s,a,"throw",u)}s(void 0)})}}function Zi(...t){return Ln(t,xo(t))}"undefined"!=typeof window&&window;class Kv{}class Jv{}class _t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof _t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new _t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof _t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class lN{encodeKey(e){return Yv(e)}encodeValue(e){return Yv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const dN=/%(\d[a-f0-9])/gi,hN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Yv(t){return encodeURIComponent(t).replace(dN,(e,n)=>{var r;return null!==(r=hN[n])&&void 0!==r?r:e})}function Zv(t){return`${t}`}class Mn{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fN(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Mn({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Zv(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Zv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class pN{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Xv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function eD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function tD(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xi{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function gN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new _t),this.context||(this.context=new pN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Mn,this.urlWithParams=n}serializeBody(){return null===this.body?null:Xv(this.body)||eD(this.body)||tD(this.body)||function mN(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tD(this.body)?null:eD(this.body)?this.body.type||null:Xv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const f=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Xi(r,i,s,{params:l,headers:c,context:f,reportProgress:u,responseType:o,withCredentials:a})}}var Ie=(()=>((Ie=Ie||{})[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie))();class $l{constructor(e,n=200,r="OK"){this.headers=e.headers||new _t,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ul extends $l{constructor(e={}){super(e),this.type=Ie.ResponseHeader}clone(e={}){return new Ul({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qe extends $l{constructor(e={}){super(e),this.type=Ie.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qe({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nD extends $l{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ql(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let eo=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Xi)o=n;else{let u,c;u=i.headers instanceof _t?i.headers:new _t(i.headers),i.params&&(c=i.params instanceof Mn?i.params:new Mn({fromObject:i.params})),o=new Xi(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Zi(o).pipe(function uN(t,e){return Y(e)?Ao(t,e,1):Ao(t,1)}(u=>this.handler.handle(u)));if(n instanceof Xi||"events"===i.observe)return s;const a=s.pipe(function cN(t,e){return jt((n,r)=>{let i=0;n.subscribe(Yt(r,o=>t.call(e,o,i++)&&r.next(o)))})}(u=>u instanceof qe));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(M(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(M(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(M(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(M(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Mn).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,ql(i,r))}post(n,r,i={}){return this.request("POST",n,ql(i,r))}put(n,r,i={}){return this.request("PUT",n,ql(i,r))}}return t.\u0275fac=function(n){return new(n||t)(A(Kv))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();class rD{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const to=new W("HTTP_INTERCEPTORS");let yN=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();const vN=/^\)\]\}',?\n/;let iD=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const h=n.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(n.responseType){const h=n.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const h=i.statusText||"OK",p=new _t(i.getAllResponseHeaders()),g=function DN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new Ul({headers:p,status:i.status,statusText:h,url:g}),s},u=()=>{let{headers:h,status:p,statusText:g,url:v}=a(),m=null;204!==p&&(m=void 0===i.response?i.responseText:i.response),0===p&&(p=m?200:0);let y=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof m){const b=m;m=m.replace(vN,"");try{m=""!==m?JSON.parse(m):null}catch(E){m=b,y&&(y=!1,m={error:E,text:m})}}y?(r.next(new qe({body:m,headers:h,status:p,statusText:g,url:v||void 0})),r.complete()):r.error(new nD({error:m,headers:h,status:p,statusText:g,url:v||void 0}))},c=h=>{const{url:p}=a(),g=new nD({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const f=h=>{l||(r.next(a()),l=!0);let p={type:Ie.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},d=h=>{let p={type:Ie.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",f),null!==o&&i.upload&&i.upload.addEventListener("progress",d)),i.send(o),r.next({type:Ie.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",f),null!==o&&i.upload&&i.upload.removeEventListener("progress",d)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(A(kv))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();const Ql=new W("XSRF_COOKIE_NAME"),Gl=new W("XSRF_HEADER_NAME");class oD{}let bN=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mv(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(A(Ft),A(ll),A(Ql))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),zl=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(A(oD),A(Gl))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),_N=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(to,[]);this.chain=r.reduceRight((i,o)=>new rD(i,o),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(A(Jv),A(At))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),EN=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:zl,useClass:yN}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:Ql,useValue:n.cookieName}:[],n.headerName?{provide:Gl,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[zl,{provide:to,useExisting:zl,multi:!0},{provide:oD,useClass:bN},{provide:Ql,useValue:"XSRF-TOKEN"},{provide:Gl,useValue:"X-XSRF-TOKEN"}]}),t})(),wN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[eo,{provide:Kv,useClass:_N},iD,{provide:Jv,useExisting:iD}],imports:[[EN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var oe=(()=>{return(t=oe||(oe={}))[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error",oe;var t})();function no(t){return!!t&&t<7}var Wl="Invariant Violation",sD=Object.setPrototypeOf,CN=void 0===sD?function(t,e){return t.__proto__=e,t}:sD,se=function(t){function e(n){void 0===n&&(n=Wl);var r=t.call(this,"number"==typeof n?Wl+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Wl,CN(r,e.prototype),r}return wt(e,t),e}(Error);function T(t,e){if(!t)throw new se(e)}var t,Ys=["debug","log","warn","error","silent"],Kl=Ys.indexOf("log");function Zs(t){return function(){if(Ys.indexOf(t)>=Kl){var e=console[t]||console.log;return e.apply(console,arguments)}}}function ln(t){try{return t()}catch(e){}}(t=T||(T={})).debug=Zs("debug"),t.log=Zs("log"),t.warn=Zs("warn"),t.error=Zs("error");const aD=ln(function(){return globalThis})||ln(function(){return window})||ln(function(){return self})||ln(function(){return global})||ln(function(){return ln.constructor("return this")()});var uD="__",cD=[uD,uD].join("DEV");const Jl=function IN(){try{return Boolean(__DEV__)}catch(t){return Object.defineProperty(aD,cD,{value:"production"!==ln(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),aD[cD]}}();function On(t){try{return t()}catch(e){}}var Yl=On(function(){return globalThis})||On(function(){return window})||On(function(){return self})||On(function(){return global})||On(function(){return On.constructor("return this")()}),Zl=!1;function Xs(t,e){if(!Boolean(t))throw new Error(e)}function Xl(t){return ea(t,[])}function ea(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return function MN(t,e){if(null===t)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(function ON(t){return"function"==typeof t.toJSON}(t)){const r=t.toJSON();if(r!==t)return"string"==typeof r?r:ea(r,n)}else if(Array.isArray(t))return function xN(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";const n=Math.min(10,t.length),r=t.length-n,i=[];for(let o=0;o<n;++o)i.push(ea(t[o],e));return 1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}(t,n);return function AN(t,e){const n=Object.entries(t);return 0===n.length?"{}":e.length>2?"["+function NN(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){const n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(t)+"]":"{ "+n.map(([i,o])=>i+": "+ea(o,e)).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}!function TN(){Yl&&!On(function(){return"production"})&&!On(function(){return process})&&(Object.defineProperty(Yl,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Zl=!0)}();const PN=globalThis.process?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if("object"==typeof e&&null!==e){var r;const i=n.prototype[Symbol.toStringTag];if(i===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(r=e.constructor)||void 0===r?void 0:r.name)){const s=Xl(e);throw new Error(`Cannot use ${i} "${s}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1};class ef{constructor(e,n="GraphQL request",r={line:1,column:1}){"string"==typeof e||Xs(!1,`Body must be a string. Received: ${Xl(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Xs(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Xs(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function dD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tf(t,e,n){return e&&hD(t.prototype,e),n&&hD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function kN(){(function lD(){Zl&&(delete Yl.process,Zl=!1)})()})(),function RN(){__DEV__?T("boolean"==typeof Jl,Jl):T("boolean"==typeof Jl,36)}();var nf=function(){return"function"==typeof Symbol},rf=function(t){return nf()&&Boolean(Symbol[t])},of=function(t){return rf(t)?Symbol[t]:"@@"+t};nf()&&!rf("observable")&&(Symbol.observable=Symbol("observable"));var VN=of("iterator"),sf=of("observable"),pD=of("species");function ta(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function ro(t){var e=t.constructor;return void 0!==e&&null===(e=e[pD])&&(e=void 0),void 0!==e?e:ce}function Wr(t){Wr.log?Wr.log(t):setTimeout(function(){throw t})}function na(t){Promise.resolve().then(function(){try{t()}catch(e){Wr(e)}})}function gD(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=ta(e,"unsubscribe");n&&n.call(e)}}catch(r){Wr(r)}}function af(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function mD(t,e,n){t._state="running";var r=t._observer;try{var i=ta(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(af(t),!i)throw n;i.call(r,n);break;case"complete":af(t),i&&i.call(r)}}catch(o){Wr(o)}"closed"===t._state?gD(t):"running"===t._state&&(t._state="ready")}function uf(t,e,n){if("closed"!==t._state){if("buffering"===t._state)return void t._queue.push({type:e,value:n});if("ready"!==t._state)return t._state="buffering",t._queue=[{type:e,value:n}],void na(function(){return function HN(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(mD(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)});mD(t,e,n)}}var $N=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new UN(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return t.prototype.unsubscribe=function(){"closed"!==this._state&&(af(this),gD(this))},tf(t,[{key:"closed",get:function(){return"closed"===this._state}}]),t}(),UN=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){uf(this._subscription,"next",r)},e.error=function(r){uf(this._subscription,"error",r)},e.complete=function(){uf(this._subscription,"complete")},tf(t,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),ce=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof n)throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return("object"!=typeof r||null===r)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new $N(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(o,s){if("function"==typeof r)var u=i.subscribe({next:function(c){try{r(c,a)}catch(l){s(l),u.unsubscribe()}},error:s,complete:o});else s(new TypeError(r+" is not a function"));function a(){u.unsubscribe(),o()}})},e.map=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(ro(this))(function(s){return i.subscribe({next:function(a){try{a=r(a)}catch(u){return s.error(u)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.filter=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(ro(this))(function(s){return i.subscribe({next:function(a){try{if(!r(a))return}catch(u){return s.error(u)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.reduce=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var o=ro(this),s=arguments.length>1,a=!1,u=arguments[1],c=u;return new o(function(l){return i.subscribe({next:function(f){var d=!a;if(a=!0,!d||s)try{c=r(c,f)}catch(h){return l.error(h)}else c=f},error:function(f){l.error(f)},complete:function(){if(!a&&!s)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(c),l.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=ro(this);return new a(function(u){var c,l=0;return function f(d){c=d.subscribe({next:function(h){u.next(h)},error:function(h){u.error(h)},complete:function(){l===o.length?(c=void 0,u.complete()):f(a.from(o[l++]))}})}(r),function(){c&&(c.unsubscribe(),c=void 0)}})},e.flatMap=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var o=ro(this);return new o(function(s){var a=[],u=i.subscribe({next:function(l){if(r)try{l=r(l)}catch(d){return s.error(d)}var f=o.from(l).subscribe({next:function(d){s.next(d)},error:function(d){s.error(d)},complete:function(){var d=a.indexOf(f);d>=0&&a.splice(d,1),c()}});a.push(f)},error:function(l){s.error(l)},complete:function(){c()}});function c(){u.closed&&0===a.length&&s.complete()}return function(){a.forEach(function(l){return l.unsubscribe()}),u.unsubscribe()}})},e[sf]=function(){return this},t.from=function(r){var i="function"==typeof this?this:t;if(null==r)throw new TypeError(r+" is not an object");var o=ta(r,sf);if(o){var s=o.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return function BN(t){return t instanceof ce}(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if(rf("iterator")&&(o=ta(r,VN)))return new i(function(a){na(function(){if(!a.closed){for(var c,u=function LN(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function jN(t,e){if(t){if("string"==typeof t)return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o.call(r));!(c=u()).done;)if(a.next(c.value),a.closed)return;a.complete()}})});if(Array.isArray(r))return new i(function(a){na(function(){if(!a.closed){for(var u=0;u<r.length;++u)if(a.next(r[u]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s="function"==typeof this?this:t;return new s(function(a){na(function(){if(!a.closed){for(var u=0;u<i.length;++u)if(a.next(i[u]),a.closed)return;a.complete()}})})},tf(t,null,[{key:pD,get:function(){return this}}]),t}();function ye(t){return null!==t&&"object"==typeof t}function QN(t,e){var n=e,r=[];return t.definitions.forEach(function(o){if("OperationDefinition"===o.kind)throw __DEV__?new se("Found a ".concat(o.operation," operation").concat(o.name?" named '".concat(o.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new se(41);"FragmentDefinition"===o.kind&&r.push(o)}),void 0===n&&(__DEV__?T(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):T(1===r.length,42),n=r[0].name.value),D(D({},t),{definitions:ui([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)})}function ra(t){void 0===t&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function cf(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":var n=e&&e[t.name.value];return __DEV__?T(n,"No fragment named ".concat(t.name.value,".")):T(n,43),n;default:return null}}function Kr(t){return{__ref:String(t)}}function te(t){return Boolean(t&&"object"==typeof t&&"string"==typeof t.__ref)}function Jr(t,e,n,r){if(function KN(t){return"IntValue"===t.kind}(n)||function JN(t){return"FloatValue"===t.kind}(n))t[e.value]=Number(n.value);else if(function WN(t){return"BooleanValue"===t.kind}(n)||function zN(t){return"StringValue"===t.kind}(n))t[e.value]=n.value;else if(function ZN(t){return"ObjectValue"===t.kind}(n)){var i={};n.fields.map(function(s){return Jr(i,s.name,s.value,r)}),t[e.value]=i}else if(function YN(t){return"Variable"===t.kind}(n))t[e.value]=(r||{})[n.name.value];else if(function XN(t){return"ListValue"===t.kind}(n))t[e.value]=n.values.map(function(s){var a={};return Jr(a,e,s,r),a[e.value]});else if(function eP(t){return"EnumValue"===t.kind}(n))t[e.value]=n.value;else{if(!function tP(t){return"NullValue"===t.kind}(n))throw __DEV__?new se('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new se(52);t[e.value]=null}}nf()&&Object.defineProperty(ce,Symbol("extensions"),{value:{symbol:sf,hostReportError:Wr},configurable:!0});var rP=["connection","include","skip","client","rest","export"],lf=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(io(i),")")}return n.connection.key}var o=t;if(e){var s=io(e);o+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(a){-1===rP.indexOf(a)&&(n[a]&&Object.keys(n[a]).length?o+="@".concat(a,"(").concat(io(n[a]),")"):o+="@".concat(a))}),o},{setStringify:function(t){var e=io;return io=t,e}}),io=function(e){return JSON.stringify(e,iP)};function iP(t,e){return ye(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function ia(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){return Jr(n,r.name,r.value,e)}),n}return null}function Jn(t){return t.alias?t.alias.value:t.name.value}function ff(t,e,n){if("string"==typeof t.__typename)return t.__typename;for(var r=0,i=e.selections;r<i.length;r++){var o=i[r];if(fn(o)){if("__typename"===o.name.value)return t[Jn(o)]}else{var s=ff(t,cf(o,n).selectionSet,n);if("string"==typeof s)return s}}}function fn(t){return"Field"===t.kind}function yD(t){return"InlineFragment"===t.kind}function oo(t){__DEV__?T(t&&"Document"===t.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):T(t&&"Document"===t.kind,44);var e=t.definitions.filter(function(n){return"FragmentDefinition"!==n.kind}).map(function(n){if("OperationDefinition"!==n.kind)throw __DEV__?new se('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new se(45);return n});return __DEV__?T(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):T(e.length<=1,46),t}function so(t){return oo(t),t.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function df(t){return t.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function oa(t){return t.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function vD(t){var e=so(t);return __DEV__?T(e&&"query"===e.operation,"Must contain a query definition."):T(e&&"query"===e.operation,47),e}function hf(t){oo(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"===i.kind&&!e&&(e=i)}if(e)return e;throw __DEV__?new se("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new se(51)}function pf(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Jr(e,r.variable.name,r.defaultValue)}),e}function DD(t,e){return e?e(t):ce.of()}function ao(t){return"function"==typeof t?new Yn(t):t}function sa(t){return t.request.length<=1}var uP=function(t){function e(n,r){var i=t.call(this,n)||this;return i.link=r,i}return wt(e,t),e}(Error),Yn=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return ce.of()})},t.from=function(e){return 0===e.length?t.empty():e.map(ao).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=ao(n),o=ao(r||new t(DD));return sa(i)&&sa(o)?new t(function(s){return e(s)?i.request(s)||ce.of():o.request(s)||ce.of()}):new t(function(s,a){return e(s)?i.request(s,a)||ce.of():o.request(s,a)||ce.of()})},t.execute=function(e,n){return e.request(function qN(t,e){var n=D({},t);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(o){n=D(D({},n),"function"==typeof o?o(n):o)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return D({},n)}}),e}(n.context,function sP(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName="string"!=typeof e.query?df(e.query)||void 0:""),e}(function aP(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw __DEV__?new se("illegal argument: ".concat(i)):new se(24)}return t}(n))))||ce.of()},t.concat=function(e,n){var r=ao(e);if(sa(r))return __DEV__&&T.warn(new uP("You are calling concat on a terminating link, which will have no effect",r)),r;var i=ao(n);return sa(i)?new t(function(o){return r.request(o,function(s){return i.request(s)||ce.of()})||ce.of()}):new t(function(o,s){return r.request(o,function(a){return i.request(a,s)||ce.of()})||ce.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(DD)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new se("request is not implemented"):new se(19)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),gf=Yn.execute;function uo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){!r||Object.keys(r).forEach(function(i){var o=r[i];void 0!==o&&(n[i]=o)})}),n}class lP{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class bD{constructor(e,n,r,i,o,s){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const _D={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},fP=new Set(Object.keys(_D));function ED(t){const e=null==t?void 0:t.kind;return"string"==typeof e&&fP.has(e)}var Zn=(()=>(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"}(Zn||(Zn={})),Zn))(),N=(()=>(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(N||(N={})),N))();const Yr=Object.freeze({});function Jt(t,e,n=_D){const r=new Map;for(const m of Object.values(N))r.set(m,mf(e,m));let i,l,f,o=Array.isArray(t),s=[t],a=-1,u=[],c=t;const d=[],h=[];do{a++;const m=a===s.length,y=m&&0!==u.length;if(m){if(l=0===h.length?void 0:d[d.length-1],c=f,f=h.pop(),y)if(o){c=c.slice();let E=0;for(const[S,U]of u){const $=S-E;null===U?(c.splice($,1),E++):c[$]=U}}else{c=D_({},c);for(const[E,S]of u)c[E]=S}a=i.index,s=i.keys,u=i.edits,o=i.inArray,i=i.prev}else if(f){if(l=o?a:s[a],c=f[l],null==c)continue;d.push(l)}let b;if(!Array.isArray(c)){var p,g;ED(c)||Xs(!1,`Invalid AST Node: ${Xl(c)}.`);const E=m?null===(p=r.get(c.kind))||void 0===p?void 0:p.leave:null===(g=r.get(c.kind))||void 0===g?void 0:g.enter;if(b=null==E?void 0:E.call(e,c,l,f,d,h),b===Yr)break;if(!1===b){if(!m){d.pop();continue}}else if(void 0!==b&&(u.push([l,b]),!m)){if(!ED(b)){d.pop();continue}c=b}}var v;void 0===b&&y&&u.push([l,c]),m?d.pop():(i={inArray:o,index:a,keys:s,edits:u,prev:i},o=Array.isArray(c),s=o?c:null!==(v=n[c.kind])&&void 0!==v?v:[],a=-1,u=[],f&&h.push(f),f=c)}while(void 0!==i);return 0!==u.length?u[u.length-1][1]:t}function mf(t,e){const n=t[e];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}var yf=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=__DEV__?new se("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new se(21);throw r.parseError=i,r}return n},wD=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r},CD=Object.prototype.hasOwnProperty;function vf(t){return 9===t||32===t}function co(t){return t>=48&&t<=57}function ID(t){return t>=97&&t<=122||t>=65&&t<=90}function TD(t){return ID(t)||95===t}function gP(t){return ID(t)||co(t)||95===t}function mP(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<t.length;++s){var o;const a=t[s],u=yP(a);u!==a.length&&(r=null!==(o=r)&&void 0!==o?o:s,i=s,0!==s&&u<n&&(n=u))}return t.map((s,a)=>0===a?s:s.slice(n)).slice(null!==(e=r)&&void 0!==e?e:0,i+1)}function yP(t){let e=0;for(;e<t.length&&vf(t.charCodeAt(e));)++e;return e}const bP=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function _P(t){return EP[t.charCodeAt(0)]}const EP=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function SD(t){return Jt(t,CP)}const CP={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>O(t.definitions,"\n\n")},OperationDefinition:{leave(t){const e=z("(",O(t.variableDefinitions,", "),")"),n=O([t.operation,O([t.name,e]),O(t.directives," ")]," ");return("query"===n?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+z(" = ",n)+z(" ",O(r," "))},SelectionSet:{leave:({selections:t})=>Lt(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const o=z("",t,": ")+e;let s=o+z("(",O(n,", "),")");return s.length>80&&(s=o+z("(\n",aa(O(n,"\n")),"\n)")),O([s,O(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+z(" ",O(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>O(["...",z("on ",t),O(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${z("(",O(n,", "),")")} on ${e} ${z("",O(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?function vP(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every(h=>0===h.length||vf(h.charCodeAt(0))),s=n.endsWith('\\"""'),a=t.endsWith('"')&&!s,u=t.endsWith("\\"),c=a||u,l=!(null!=e&&e.minimize)&&(!i||t.length>70||c||o||s);let f="";const d=i&&vf(t.charCodeAt(0));return(l&&!d||o)&&(f+="\n"),f+=n,(l||c)&&(f+="\n"),'"""'+f+'"""'}(t):function DP(t){return`"${t.replace(bP,_P)}"`}(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+O(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+O(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+z("(",O(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>z("",t,"\n")+O(["schema",O(e," "),Lt(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>z("",t,"\n")+O(["scalar",e,O(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>z("",t,"\n")+O(["type",e,z("implements ",O(n," & ")),O(r," "),Lt(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>z("",t,"\n")+e+(MD(n)?z("(\n",aa(O(n,"\n")),"\n)"):z("(",O(n,", "),")"))+": "+r+z(" ",O(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>z("",t,"\n")+O([e+": "+n,z("= ",r),O(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>z("",t,"\n")+O(["interface",e,z("implements ",O(n," & ")),O(r," "),Lt(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>z("",t,"\n")+O(["union",e,O(n," "),z("= ",O(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>z("",t,"\n")+O(["enum",e,O(n," "),Lt(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>z("",t,"\n")+O([e,O(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>z("",t,"\n")+O(["input",e,O(n," "),Lt(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>z("",t,"\n")+"directive @"+e+(MD(n)?z("(\n",aa(O(n,"\n")),"\n)"):z("(",O(n,", "),")"))+(r?" repeatable":"")+" on "+O(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>O(["extend schema",O(t," "),Lt(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>O(["extend scalar",t,O(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>O(["extend type",t,z("implements ",O(e," & ")),O(n," "),Lt(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>O(["extend interface",t,z("implements ",O(e," & ")),O(n," "),Lt(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>O(["extend union",t,O(e," "),z("= ",O(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>O(["extend enum",t,O(e," "),Lt(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>O(["extend input",t,O(e," "),Lt(n)]," ")}};function O(t,e=""){var n;return null!==(n=null==t?void 0:t.filter(r=>r).join(e))&&void 0!==n?n:""}function Lt(t){return z("{\n",aa(O(t,"\n")),"\n}")}function z(t,e,n=""){return null!=e&&""!==e?t+e+n:""}function aa(t){return z("  ",t.replace(/\n/g,"\n  "))}function MD(t){var e;return null!==(e=null==t?void 0:t.some(n=>n.includes("\n")))&&void 0!==e&&e}var MP={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},OD=function(t,e){return e(t)};function OP(t){if(t){var e=Object.create(null);return Object.keys(Object(t)).forEach(function(n){e[n.toLowerCase()]=t[n]}),e}return t}function xD(t){return new ce(function(e){e.error(t)})}var ND=ln(function(){return fetch}),NP=function(t){void 0===t&&(t={});var e=t.uri,n=void 0===e?"/graphql":e,r=t.fetch,i=t.print,o=void 0===i?OD:i,s=t.includeExtensions,a=t.useGETForQueries,u=t.includeUnusedVariables,c=void 0!==u&&u,l=hn(t,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(t){if(!t&&"undefined"==typeof fetch)throw __DEV__?new se("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new se(20)}(r||ND);var f={http:{includeExtensions:s},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new Yn(function(d){var h=function(t,e){return t.getContext().uri||("function"==typeof e?e(t):e||"/graphql")}(d,n),p=d.getContext(),g={};if(p.clientAwareness){var v=p.clientAwareness,m=v.name,y=v.version;m&&(g["apollographql-client-name"]=m),y&&(g["apollographql-client-version"]=y)}var Se,b=D(D({},g),p.headers),S=function AD(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach(function(f){i=D(D(D({},i),f.options),{headers:D(D({},i.headers),OP(f.headers))}),f.credentials&&(i.credentials=f.credentials),o=D(D({},o),f.http)});var a=t.extensions,c=t.query,l={operationName:t.operationName,variables:t.variables};return o.includeExtensions&&(l.extensions=a),o.includeQuery&&(l.query=e(c,SD)),{options:i,body:l}}(d,o,MP,f,{http:p.http,options:p.fetchOptions,credentials:p.credentials,headers:b}),U=S.options,$=S.body;if($.variables&&!c){var J=new Set(Object.keys($.variables));Jt(d.query,{Variable:function(dt,m_,tt){tt&&"VariableDefinition"!==tt.kind&&J.delete(dt.name.value)}}),J.size&&($.variables=D({},$.variables),J.forEach(function(dt){delete $.variables[dt]}))}if(!U.signal){var Qe=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var t=new AbortController;return{controller:t,signal:t.signal}}();(Se=Qe.controller)&&(U.signal=Qe.signal)}if(a&&!d.query.definitions.some(function(dt){return"OperationDefinition"===dt.kind&&"mutation"===dt.operation})&&(U.method="GET"),"GET"===U.method){var oi=function xP(t,e){var n=[],r=function(f,d){n.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=yf(e.variables,"Variables map")}catch(f){return{parseError:f}}r("variables",i)}if(e.extensions){var o=void 0;try{o=yf(e.extensions,"Extensions map")}catch(f){return{parseError:f}}r("extensions",o)}var s="",a=t,u=t.indexOf("#");-1!==u&&(s=t.substr(u),a=t.substr(0,u));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+n.join("&")+s}}(h,$),Co=oi.newURI,si=oi.parseError;if(si)return xD(si);h=Co}else try{U.body=yf($,"Payload")}catch(dt){return xD(dt)}return new ce(function(dt){return(r||ln(function(){return fetch})||ND)(h,U).then(function(tt){return d.setContext({response:tt}),tt}).then(function hP(t){return function(e){return e.text().then(function(n){try{return JSON.parse(n)}catch(i){var r=i;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=n,r}}).then(function(n){return e.status>=300&&wD(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!CD.call(n,"data")&&!CD.call(n,"errors")&&wD(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}(d)).then(function(tt){return dt.next(tt),dt.complete(),tt}).catch(function(tt){"AbortError"!==tt.name&&(tt.result&&tt.result.errors&&tt.result.data&&dt.next(tt.result),dt.error(tt))}),function(){Se&&Se.abort()}})})},PP=function(t){function e(n){void 0===n&&(n={});var r=t.call(this,NP(n).request)||this;return r.options=n,r}return wt(e,t),e}(Yn);const{toString:PD,hasOwnProperty:FP}=Object.prototype,FD=Function.prototype.toString,Df=new Map;function Pe(t,e){try{return bf(t,e)}finally{Df.clear()}}function bf(t,e){if(t===e)return!0;const n=PD.call(t);if(n!==PD.call(e))return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(RD(t,e))return!0;const i=kD(t),o=kD(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!FP.call(e,i[a]))return!1;for(let a=0;a<s;++a){const u=i[a];if(!bf(t[u],e[u]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!=t)return e!=e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(RD(t,e))return!0;const i=t.entries(),o="[object Map]"===n;for(;;){const s=i.next();if(s.done)break;const[a,u]=s.value;if(!e.has(a)||o&&!bf(u,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=FD.call(t);return i===FD.call(e)&&!function LP(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}(i,RP)}}return!1}function kD(t){return Object.keys(t).filter(kP,t)}function kP(t){return void 0!==this[t]}const RP="{ [native code] }";function RD(t,e){let n=Df.get(t);if(n){if(n.has(e))return!0}else Df.set(t,n=new Set);return n.add(e),!1}var jP=function(){return Object.create(null)},LD=Array.prototype,VP=LD.forEach,BP=LD.slice,lo=function(){function t(e,n){void 0===e&&(e=!0),void 0===n&&(n=jP),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return VP.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(BP.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&function HP(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}(),Xn="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),$P="function"==typeof WeakSet,UP="function"==typeof Symbol&&"function"==typeof Symbol.for;function ua(t,e){var n=t.directives;return!n||!n.length||function zP(t){var e=[];return t&&t.length&&t.forEach(function(n){if(function GP(t){var e=t.name.value;return"skip"===e||"include"===e}(n)){var r=n.arguments,i=n.name.value;__DEV__?T(r&&1===r.length,"Incorrect number of arguments for the @".concat(i," directive.")):T(r&&1===r.length,38);var o=r[0];__DEV__?T(o.name&&"if"===o.name.value,"Invalid argument for the @".concat(i," directive.")):T(o.name&&"if"===o.name.value,39);var s=o.value;__DEV__?T(s&&("Variable"===s.kind||"BooleanValue"===s.kind),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):T(s&&("Variable"===s.kind||"BooleanValue"===s.kind),40),e.push({directive:n,ifArgument:o})}}),e}(n).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return"Variable"===o.value.kind?(s=e&&e[o.value.name.value],__DEV__?T(void 0!==s,"Invalid variable referenced in @".concat(i.name.value," directive.")):T(void 0!==s,37)):s=o.value.value,"skip"===i.name.value?!s:s})}function _f(t,e){return function qP(t){var e=[];return Jt(t,{Directive:function(n){e.push(n.name.value)}}),e}(e).some(function(n){return t.indexOf(n)>-1})}function QP(t){return t&&_f(["client"],t)&&_f(["export"],t)}var WP=Object.prototype.hasOwnProperty;function jD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return VD(t)}function VD(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new fo,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var KP=function(t,e,n){return this.merge(t[n],e[n])},fo=function(){function t(e){void 0===e&&(e=KP),this.reconciler=e,this.isObject=ye,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return ye(n)&&ye(e)?(Object.keys(n).forEach(function(s){if(WP.call(e,s)){var a=e[s];if(n[s]!==a){var u=r.reconciler.apply(r,ui([e,n,s],i,!1));u!==a&&((e=r.shallowCopyForMerge(e))[s]=u)}}else(e=r.shallowCopyForMerge(e))[s]=n[s]}),e):n},t.prototype.shallowCopyForMerge=function(e){if(ye(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):D({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},t}(),Fe=Object.prototype.hasOwnProperty;function BD(t,e){var n=t.__typename,r=t.id,i=t._id;if("string"==typeof n&&(e&&(e.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var HD={dataIdFromObject:BD,addTypename:!0,resultCaching:!0,canonizeResults:!1};function $D(t){var e=t.canonizeResults;return void 0===e?HD.canonizeResults:e}var UD=/^[_a-z][_0-9a-z]*/i;function An(t){var e=t.match(UD);return e?e[0]:t}function Ef(t,e,n){return!!ye(e)&&(be(e)?e.every(function(r){return Ef(t,r,n)}):t.selections.every(function(r){if(fn(r)&&ua(r,n)){var i=Jn(r);return Fe.call(e,i)&&(!r.selectionSet||Ef(r.selectionSet,e[i],n))}return!0}))}function Zr(t){return ye(t)&&!te(t)&&!be(t)}var Cf,If,be=function(t){return Array.isArray(t)},wf=function(){function t(){this.known=new($P?WeakSet:Set),this.pool=new lo(Xn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return ye(e)&&this.known.has(e)},t.prototype.pass=function(e){if(ye(e)){var n=function XP(t){return ye(t)?be(t)?t.slice(0):D({__proto__:Object.getPrototypeOf(t)},t):t}(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(ye(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var o=e.map(this.admit,this);return(s=this.pool.lookupArray(o)).array||(this.known.add(s.array=o),__DEV__&&Object.freeze(o)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),u=[a],c=this.sortedKeys(e);u.push(c.json);var s,l=u.length;if(c.sorted.forEach(function(h){u.push(n.admit(e[h]))}),!(s=this.pool.lookupArray(u)).object){var f=s.object=Object.create(a);this.known.add(f),c.sorted.forEach(function(h,p){f[h]=u[l+p]}),__DEV__&&Object.freeze(f)}return s.object}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}(),er=Object.assign(function(t){if(ye(t)){void 0===Cf&&qD();var e=Cf.admit(t),n=If.get(e);return void 0===n&&If.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:qD});function qD(){Cf=new wf,If=new(Xn?WeakMap:Map)}function Tf(t,e,n){return new ce(function(r){var i=r.next,o=r.error,s=r.complete,a=0,u=!1,c={then:function(h){return new Promise(function(p){return p(h())})}};function l(h,p){return h?function(g){++a;var v=function(){return h(g)};c=c.then(v,v).then(function(m){--a,i&&i.call(r,m),u&&f.complete()},function(m){throw--a,m}).catch(function(m){o&&o.call(r,m)})}:function(g){return p&&p.call(r,g)}}var f={next:l(e,i),error:l(n,o),complete:function(){u=!0,a||s&&s.call(r)}},d=t.subscribe(f);return function(){return d.unsubscribe()}})}function ca(t){return t.errors&&t.errors.length>0||!1}function QD(t,e,n){var r=0;return t.forEach(function(i,o){e.call(this,i,o,t)&&(t[r++]=i)},n),t.length=r,t}var GD={kind:"Field",name:{kind:"Name",value:"__typename"}};function zD(t,e){return t.selectionSet.selections.every(function(n){return"FragmentSpread"===n.kind&&zD(e[n.name.value],e)})}function Sf(t){return zD(so(t)||function oP(t){__DEV__?T("Document"===t.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):T("Document"===t.kind,48),__DEV__?T(t.definitions.length<=1,"Fragment must have exactly one definition."):T(t.definitions.length<=1,49);var e=t.definitions[0];return __DEV__?T("FragmentDefinition"===e.kind,"Must be a fragment definition."):T("FragmentDefinition"===e.kind,50),e}(t),ra(oa(t)))?null:t}function Mf(t){return function(n){return t.some(function(r){return r.name&&r.name===n.name.value||r.test&&r.test(n)})}}function WD(t,e){var n=Object.create(null),r=[],i=Object.create(null),o=[],s=Sf(Jt(e,{Variable:{enter:function(a,u,c){"VariableDefinition"!==c.kind&&(n[a.name.value]=!0)}},Field:{enter:function(a){if(t&&a.directives&&t.some(function(c){return c.remove})&&a.directives&&a.directives.some(Mf(t)))return a.arguments&&a.arguments.forEach(function(c){"Variable"===c.value.kind&&r.push({name:c.value.name.value})}),a.selectionSet&&KD(a.selectionSet).forEach(function(c){o.push({name:c.name.value})}),null}},FragmentSpread:{enter:function(a){i[a.name.value]=!0}},Directive:{enter:function(a){if(Mf(t)(a))return null}}}));return s&&QD(r,function(a){return!!a.name&&!n[a.name]}).length&&(s=function oF(t,e){var n=function iF(t){return function(n){return t.some(function(r){return n.value&&"Variable"===n.value.kind&&n.value.name&&(r.name===n.value.name.value||r.test&&r.test(n))})}}(t);return Sf(Jt(e,{OperationDefinition:{enter:function(r){return D(D({},r),{variableDefinitions:r.variableDefinitions?r.variableDefinitions.filter(function(i){return!t.some(function(o){return o.name===i.variable.name.value})}):[]})}},Field:{enter:function(r){var i=t.some(function(s){return s.remove});if(i){var o=0;if(r.arguments&&r.arguments.forEach(function(s){n(s)&&(o+=1)}),1===o)return null}}},Argument:{enter:function(r){if(n(r))return null}}}))}(r,s)),s&&QD(o,function(a){return!!a.name&&!i[a.name]}).length&&(s=function sF(t,e){function n(r){if(t.some(function(i){return i.name===r.name.value}))return null}return Sf(Jt(e,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,s)),s}var Of=Object.assign(function(t){return Jt(oo(t),{SelectionSet:{enter:function(e,n,r){if(!r||"OperationDefinition"!==r.kind){var i=e.selections;if(i&&!i.some(function(a){return fn(a)&&("__typename"===a.name.value||0===a.name.value.lastIndexOf("__",0))})){var s=r;if(!(fn(s)&&s.directives&&s.directives.some(function(a){return"export"===a.name.value})))return D(D({},e),{selections:ui(ui([],i,!0),[GD],!1)})}}}}})},{added:function(t){return t===GD}}),eF={test:function(t){var e="connection"===t.name.value;return e&&(!t.arguments||!t.arguments.some(function(n){return"key"===n.name.value}))&&__DEV__&&T.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function KD(t){var e=[];return t.selections.forEach(function(n){(fn(n)||yD(n))&&n.selectionSet?KD(n.selectionSet).forEach(function(r){return e.push(r)}):"FragmentSpread"===n.kind&&e.push(n)}),e}function aF(t){return"query"===hf(t).operation?t:Jt(t,{OperationDefinition:{enter:function(i){return D(D({},i),{operation:"query"})}}})}var JD=new Map;function Af(t){var e=JD.get(t)||1;return JD.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function ho(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function YD(t){function e(n){Object.defineProperty(t,n,{value:ce})}return UP&&Symbol.species&&e(Symbol.species),e("@@species"),t}function ZD(t){return t&&"function"==typeof t.then}var po=function(t){function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.addCount=0,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){null!==r.sub&&(r.latest=["next",i],ho(r.observers,"next",i))},error:function(i){var o=r.sub;null!==o&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),ho(r.observers,"error",i))},complete:function(){if(null!==r.sub){var i=r.sources.shift();i?ZD(i)?i.then(function(o){return r.sub=o.subscribe(r.handlers)}):r.sub=i.subscribe(r.handlers):(r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),ho(r.observers,"complete"))}}},r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),"function"==typeof n&&(n=[new ce(n)]),ZD(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return wt(e,t),e.prototype.start=function(n){void 0===this.sub&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),null===this.sub&&"next"===r&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n),++this.addCount)},e.prototype.removeObserver=function(n,r){this.observers.delete(n)&&--this.addCount<1&&!r&&this.handlers.error(new Error("Observable cancelled prematurely"))},e.prototype.cleanup=function(n){var r=this,i=!1,o=function(){i||(i=!0,r.observers.delete(s),n())},s={next:o,error:o,complete:o},a=this.addCount;this.addObserver(s),this.addCount=a},e}(ce);function tr(t){return Array.isArray(t)&&t.length>0}YD(po);var Xr=function(t){function e(n){var r=n.graphQLErrors,i=n.clientErrors,o=n.networkError,s=n.errorMessage,a=n.extraInfo,u=t.call(this,s)||this;return u.graphQLErrors=r||[],u.clientErrors=i||[],u.networkError=o||null,u.message=s||function(t){var e="";return(tr(t.graphQLErrors)||tr(t.clientErrors))&&(t.graphQLErrors||[]).concat(t.clientErrors||[]).forEach(function(r){e+="".concat(r?r.message:"Error message not found.","\n")}),t.networkError&&(e+="".concat(t.networkError.message,"\n")),e=e.replace(/\n$/,"")}(u),u.extraInfo=a,u.__proto__=e.prototype,u}return wt(e,t),e}(Error),fF=Object.prototype.toString;function XD(t){return xf(t)}function xf(t,e){switch(fF.call(t)){case"[object Array]":if((e=e||new Map).has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,o){n[o]=xf(i,e)}),n;case"[object Object]":if((e=e||new Map).has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=xf(t[i],e)}),r;default:return t}}var dF=Object.assign,hF=Object.hasOwnProperty,eb=!1,Nf=function(t){function e(n){var r=n.queryManager,i=n.queryInfo,o=n.options,s=t.call(this,function(u){try{var c=u._subscription._observer;c&&!c.error&&(c.error=pF)}catch(d){}var l=!s.observers.size;s.observers.add(u);var f=s.last;return f&&f.error?u.error&&u.error(f.error):f&&f.result&&u.next&&u.next(f.result),l&&s.reobserve().catch(function(){}),function(){s.observers.delete(u)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.isTornDown=!1,s.options=o,s.queryId=i.queryId||r.generateQueryId();var a=so(o.query);return s.queryName=a&&a.name&&a.name.value,s.initialFetchPolicy=o.fetchPolicy||"cache-first",s.queryManager=r,s.queryInfo=i,s}return wt(e,t),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var o={next:function(a){r(a),n.observers.delete(o),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=n.subscribe(o)})},e.prototype.getCurrentResult=function(n){void 0===n&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||oe.ready,o=D(D({},r),{loading:no(i),networkStatus:i}),s=this.options.fetchPolicy,a=void 0===s?"cache-first":s;if("network-only"!==a&&"no-cache"!==a&&"standby"!==a&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(o.data=u.result),Pe(o.data,{})&&(o.data=void 0),u.complete?(delete o.partial,u.complete&&o.networkStatus===oe.loading&&("cache-first"===a||"cache-only"===a)&&(o.networkStatus=oe.ready,o.loading=!1)):o.partial=!0,__DEV__&&!u.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&tb(u.missing)}return n&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(n){return!this.last||!Pe(this.last.result,n)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||Pe(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(i.fetchPolicy="cache-and-network"===o?o:"no-cache"===o?"no-cache":"network-only",__DEV__&&n&&hF.call(n,"variables")){var s=vD(this.options.query),a=s.variableDefinitions;(!a||!a.some(function(u){return"variables"===u.variable.name.value}))&&__DEV__&&T.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat((null===(r=s.name)||void 0===r?void 0:r.value)||JSON.stringify(s),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return n&&!Pe(this.options.variables,n)&&(i.variables=this.options.variables=D(D({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,oe.refetch)},e.prototype.fetchMore=function(n){var r=this,i=D(D({},n.query?n:D(D(D({},this.options),n),{variables:D(D({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId();return i.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=oe.fetchMore,this.observe()),this.queryManager.fetchQuery(o,i,oe.fetchMore).then(function(s){var a=s.data,u=n.updateQuery;return u?(__DEV__&&!eb&&(__DEV__&&T.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),eb=!0),r.updateQuery(function(c){return u(c,{fetchMoreResult:a,variables:i.variables})})):r.queryManager.cache.writeQuery({query:i.query,variables:i.variables,data:a}),s}).finally(function(){r.queryManager.stopQuery(o),r.reobserve()})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(o){var s=n.updateQuery;s&&r.updateQuery(function(a,u){return s(a,{subscriptionData:o,variables:u.variables})})},error:function(o){n.onError?n.onError(o):__DEV__&&T.error("Unhandled GraphQL subscription error",o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return Pe(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:n},oe.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,o=n(r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});o&&(r.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var i=this.pollingInfo,o=this.options.pollInterval;if(!o)return void(i&&(clearTimeout(i.timeout),delete this.pollingInfo));if(!i||i.interval!==o){__DEV__?T(o,"Attempted to start a polling query without a polling interval."):T(o,10),(i||(this.pollingInfo={})).interval=o;var a=function(){n.pollingInfo&&(no(n.queryInfo.networkStatus)?u():n.reobserve({fetchPolicy:"network-only"},oe.poll).then(u,u))},u=function(){var c=n.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};u()}}},e.prototype.updateLastResult=function(n,r){return void 0===r&&(r=this.variables),this.last=D(D({},this.last),{result:this.queryManager.assumeImmutableResults?n:XD(n),variables:r}),tr(n.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(n,r){var i=this;this.isTornDown=!1;var o=r===oe.refetch||r===oe.fetchMore||r===oe.poll,s=this.options.variables,a=o?uo(this.options,n):dF(this.options,uo(n));o||(this.updatePolling(),n&&n.variables&&!n.fetchPolicy&&!Pe(n.variables,s)&&(a.fetchPolicy=this.initialFetchPolicy,void 0===r&&(r=oe.setVariables)));var u=a.variables&&D({},a.variables),c=this.fetch(a,r),l={next:function(f){i.reportResult(f,u)},error:function(f){i.reportError(f,u)}};return o||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=c,this.observer=l),c.addObserver(l),c.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(n))&&((i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),ho(this.observers,"next",n))},e.prototype.reportError=function(n,r){var i=D(D({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:oe.error,loading:!1});this.updateLastResult(i,r),ho(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(ce);function pF(t){__DEV__&&T.error("Unhandled error",t.message,t.stack)}function tb(t){__DEV__&&t&&__DEV__&&T.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}YD(Nf);let Ve=null;const nb={};let mF=1;function rb(t){try{return t()}catch(e){}}const Pf="@wry/context:Slot",ib=rb(()=>globalThis)||rb(()=>global)||Object.create(null),ob=ib[Pf]||Array[Pf]||function(t){try{Object.defineProperty(ib,Pf,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(class{constructor(){this.id=["slot",mF++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Ve;e;e=e.parent)if(this.id in e.slots){const n=e.slots[this.id];if(n===nb)break;return e!==Ve&&(Ve.slots[this.id]=n),!0}return Ve&&(Ve.slots[this.id]=nb),!1}getValue(){if(this.hasValue())return Ve.slots[this.id]}withValue(e,n,r,i){const s=Ve;Ve={parent:s,slots:{__proto__:null,[this.id]:e}};try{return n.apply(i,r)}finally{Ve=s}}static bind(e){const n=Ve;return function(){const r=Ve;try{return Ve=n,e.apply(this,arguments)}finally{Ve=r}}}static noContext(e,n,r){if(!Ve)return e.apply(r,n);{const i=Ve;try{return Ve=null,e.apply(r,n)}finally{Ve=i}}}});function bF(){}var kf,_F=function(){function t(e,n){void 0===e&&(e=1/0),void 0===n&&(n=bF),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,i=n.newer;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return!!n&&(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0)},t}(),la=new ob,EF=Object.prototype.hasOwnProperty,Rf=void 0===(kf=Array.from)?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:kf;function fa(t){var e=t.unsubscribe;"function"==typeof e&&(t.unsubscribe=void 0,e())}var go=[];function ei(t,e){if(!t)throw new Error(e||"assertion failure")}function ab(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}var TF=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(1===this.value.length&&!xn(this))return ub(this),this.value[0]},t.prototype.recompute=function(e){return ei(!this.recomputing,"already recomputing"),ub(this),xn(this)?function SF(t,e){return pb(t),la.withValue(t,MF,[t,e]),function AF(t,e){if("function"==typeof t.subscribe)try{fa(t),t.unsubscribe=t.subscribe.apply(null,e)}catch(n){return t.setDirty(),!1}return!0}(t,e)&&function OF(t){t.dirty=!1,!xn(t)&&lb(t)}(t),ab(t.value)}(this,e):ab(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,cb(this),fa(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),pb(this),Lf(this,function(n,r){n.setDirty(),gb(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=go.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(Rf(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),go.push(this.deps),this.deps=null)},t.count=0,t}();function ub(t){var e=la.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),xn(t)?fb(e,t):db(e,t),e}function MF(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function xn(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function cb(t){Lf(t,fb)}function lb(t){Lf(t,db)}function Lf(t,e){var n=t.parents.size;if(n)for(var r=Rf(t.parents),i=0;i<n;++i)e(r[i],t)}function fb(t,e){ei(t.childValues.has(e)),ei(xn(e));var n=!xn(t);if(t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=go.pop()||new Set;t.dirtyChildren.add(e),n&&cb(t)}function db(t,e){ei(t.childValues.has(e)),ei(!xn(e));var n=t.childValues.get(e);0===n.length?t.childValues.set(e,function IF(t){return t.slice(0)}(e.value)):function CF(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}(n,e.value)||t.setDirty(),hb(t,e),!xn(t)&&lb(t)}function hb(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(go.length<100&&go.push(n),t.dirtyChildren=null))}function pb(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){gb(t,n)}),t.forgetDeps(),ei(null===t.dirtyChildren)}function gb(t,e){e.parents.delete(t),t.childValues.delete(e),hb(t,e)}var xF={setDirty:!0,dispose:!0,forget:!0};function mb(t){var e=new Map,n=t&&t.subscribe;function r(i){var o=la.getValue();if(o){var s=e.get(i);s||e.set(i,s=new Set),o.dependOn(s),"function"==typeof n&&(fa(s),s.unsubscribe=n(i))}}return r.dirty=function(o,s){var a=e.get(o);if(a){var u=s&&EF.call(xF,s)?s:"setDirty";Rf(a).forEach(function(c){return c[u]()}),e.delete(o),fa(a)}},r}function yb(){var t=new lo("function"==typeof WeakMap);return function(){return t.lookupArray(arguments)}}yb();var jf=new Set;function da(t,e){void 0===e&&(e=Object.create(null));var n=new _F(e.max||Math.pow(2,16),function(c){return c.dispose()}),r=e.keyArgs,i=e.makeCacheKey||yb(),o=function(){var c=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===c)return t.apply(null,arguments);var l=n.get(c);l||(n.set(c,l=new TF(t)),l.subscribe=e.subscribe,l.forget=function(){return n.delete(c)});var f=l.recompute(Array.prototype.slice.call(arguments));return n.set(c,l),jf.add(n),la.hasValue()||(jf.forEach(function(d){return d.clean()}),jf.clear()),f};function s(c){var l=n.get(c);l&&l.setDirty()}function a(c){var l=n.get(c);if(l)return l.peek()}function u(c){return n.delete(c)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=a,o.peek=function(){return a(i.apply(null,arguments))},o.forgetKey=u,o.forget=function(){return u(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var Be=null,vb={},NF=1,Vf="@wry/context:Slot",Bf=Array,Hf=Bf[Vf]||function(){var t=function(){function t(){this.id=["slot",NF++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Be;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===vb)break;return e!==Be&&(Be.slots[this.id]=n),!0}return Be&&(Be.slots[this.id]=vb),!1},t.prototype.getValue=function(){if(this.hasValue())return Be.slots[this.id]},t.prototype.withValue=function(e,n,r,i){var o,s=((o={__proto__:null})[this.id]=e,o),a=Be;Be={parent:a,slots:s};try{return n.apply(i,r)}finally{Be=a}},t.bind=function(e){var n=Be;return function(){var r=Be;try{return Be=n,e.apply(this,arguments)}finally{Be=r}}},t.noContext=function(e,n,r){if(!Be)return e.apply(r,n);var i=Be;try{return Be=null,e.apply(r,n)}finally{Be=i}},t}();try{Object.defineProperty(Bf,Vf,{value:Bf[Vf]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),Uf=new Hf,bb=new WeakMap;function mo(t){var e=bb.get(t);return e||bb.set(t,e={vars:new Set,dep:mb()}),e}function _b(t){mo(t).vars.forEach(function(e){return e.forgetCache(t)})}function LF(t){var e=new Set,n=new Set,r=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(u){mo(u).dep.dirty(r),jF(u)});var s=Array.from(n);n.clear(),s.forEach(function(u){return u(t)})}}else{var a=Uf.getValue();a&&(i(a),mo(a).dep(r))}return t};r.onNextChange=function(o){return n.add(o),function(){n.delete(o)}};var i=r.attachCache=function(o){return e.add(o),mo(o).vars.add(r),r};return r.forgetCache=function(o){return e.delete(o)},r}function jF(t){t.broadcastWatches&&t.broadcastWatches()}var Eb=function(){function t(e){var r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.cache=e.cache,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=jD(n.resolvers,r)}):this.resolvers=jD(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,i=e.context,o=e.variables,s=e.onlyRunForcedResolvers,a=void 0!==s&&s;return Zt(this,void 0,void 0,function(){return pn(this,function(u){return n?[2,this.resolveDocument(n,r.data,i,o,this.fragmentMatcher,a).then(function(c){return D(D({},r),{data:c.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return _f(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return function uF(t){oo(t);var e=WD([{test:function(n){return"client"===n.name.value},remove:!0}],t);return e&&(e=Jt(e,{FragmentDefinition:{enter:function(n){if(n.selectionSet&&n.selectionSet.selections.every(function(i){return fn(i)&&"__typename"===i.name.value}))return null}}})),e}(e)},t.prototype.prepareContext=function(e){var n=this.cache;return D(D({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),Zt(this,void 0,void 0,function(){return pn(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(o){return D(D({},n),o.exportedVariables)})]:[2,D({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return Jt(e,{Directive:{enter:function(r){if("client"===r.name.value&&r.arguments&&(n=r.arguments.some(function(i){return"always"===i.name.value&&"BooleanValue"===i.value.kind&&!0===i.value.value})))return Yr}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:aF(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,i,o,s){return void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===s&&(s=!1),Zt(this,void 0,void 0,function(){var a,u,c,l,f,d,h,p,g;return pn(this,function(v){return a=hf(e),u=oa(e),c=ra(u),f=(l=a.operation)?l.charAt(0).toUpperCase()+l.slice(1):"Query",h=(d=this).cache,p=d.client,g={fragmentMap:c,context:D(D({},r),{cache:h,client:p}),variables:i,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(a.selectionSet,n,g).then(function(m){return{result:m,exportedVariables:g.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r){return Zt(this,void 0,void 0,function(){var i,o,s,a,c=this;return pn(this,function(l){return i=r.fragmentMap,o=r.context,s=r.variables,a=[n],[2,Promise.all(e.selections.map(function(f){return Zt(c,void 0,void 0,function(){var d;return pn(this,function(p){return ua(f,s)?fn(f)?[2,this.resolveField(f,n,r).then(function(g){var v;void 0!==g&&a.push(((v={})[Jn(f)]=g,v))})]:(yD(f)?d=f:(d=i[f.name.value],__DEV__?T(d,"No fragment named ".concat(f.name.value)):T(d,9)),d&&d.typeCondition&&r.fragmentMatcher(n,d.typeCondition.name.value,o)?[2,this.resolveSelectionSet(d.selectionSet,n,r).then(function(g){a.push(g)})]:[2]):[2]})})})).then(function(){return VD(a)})]})})},t.prototype.resolveField=function(e,n,r){return Zt(this,void 0,void 0,function(){var i,o,s,a,u,c,l,f,d,h=this;return pn(this,function(p){return i=r.variables,o=e.name.value,s=Jn(e),a=o!==s,u=n[s]||n[o],c=Promise.resolve(u),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(l=n.__typename||r.defaultOperationType,(f=this.resolvers&&this.resolvers[l])&&(d=f[a?o:s])&&(c=Promise.resolve(Uf.withValue(this.cache,d,[n,ia(e,i),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,c.then(function(g){return void 0===g&&(g=u),e.directives&&e.directives.forEach(function(v){"export"===v.name.value&&v.arguments&&v.arguments.forEach(function(m){"as"===m.name.value&&"StringValue"===m.value.kind&&(r.exportedVariables[m.value.value]=g)})}),e.selectionSet&&null!=g?Array.isArray(g)?h.resolveSubSelectedArray(e,g,r):e.selectionSet?h.resolveSelectionSet(e.selectionSet,g,r):void 0:g})]})})},t.prototype.resolveSubSelectedArray=function(e,n,r){var i=this;return Promise.all(n.map(function(o){return null===o?null:Array.isArray(o)?i.resolveSubSelectedArray(e,o,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,o,r):void 0}))},t}(),ti=new(Xn?WeakMap:Map);function qf(t,e){var n=t[e];"function"==typeof n&&(t[e]=function(){return ti.set(t,(ti.get(t)+1)%1e15),n.apply(this,arguments)})}function wb(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Qf=function(){function t(e,n){void 0===n&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;ti.has(r)||(ti.set(r,0),qf(r,"evict"),qf(r,"modify"),qf(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||oe.loading;return this.variables&&this.networkStatus!==oe.loading&&!Pe(this.variables,e.variables)&&(n=oe.setVariables),Pe(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){wb(this),this.lastDiff=void 0,this.dirty=!1},t.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&Pe(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(n=this.observableQuery)||void 0===n?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Pe(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){n.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},t.prototype.notify=function(){var e=this;wb(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(no(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var i=D(D({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return n.setDiff(o)}});(!this.lastWatch||!Pe(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===ti.get(this.cache)&&Pe(n,r.variables)&&Pe(e.data,r.result.data))},t.prototype.markResult=function(e,n,r){var i=this;this.graphQLErrors=tr(e.errors)?e.errors:[],this.reset(),"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(Gf(e,n.errorPolicy)?this.cache.performTransaction(function(o){if(i.shouldWrite(e,n.variables))o.writeQuery({query:i.document,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:ti.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var s=i.getDiffOptions(n.variables),a=o.diff(s);i.stopped||i.updateWatch(n.variables),i.updateLastDiff(a,s),a.complete&&(e.data=a.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=oe.ready},t.prototype.markError=function(e){return this.networkStatus=oe.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function Gf(t,e){void 0===e&&(e="none");var n="ignore"===e||"all"===e,r=!ca(t);return!r&&n&&t.data&&(r=!0),r}var VF=Object.prototype.hasOwnProperty,BF=function(){function t(e){var n=e.cache,r=e.link,i=e.queryDeduplication,o=void 0!==i&&i,s=e.onBroadcast,a=e.ssrMode,u=void 0!==a&&a,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Xn?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.queryDeduplication=o,this.clientAwareness=l,this.localState=f||new Eb({cache:n}),this.ssrMode=u,this.assumeImmutableResults=!!d,(this.onBroadcast=s)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new se("QueryManager stopped while query was in flight"):new se(11))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n=e.mutation,r=e.variables,i=e.optimisticResponse,o=e.updateQueries,s=e.refetchQueries,a=void 0===s?[]:s,u=e.awaitRefetchQueries,c=void 0!==u&&u,l=e.update,f=e.onQueryUpdated,d=e.errorPolicy,h=void 0===d?"none":d,p=e.fetchPolicy,g=void 0===p?"network-only":p,v=e.keepRootFields,m=e.context;return Zt(this,void 0,void 0,function(){var y,b,E;return pn(this,function(S){switch(S.label){case 0:return __DEV__?T(n,"mutation option is required. You must specify your GraphQL document in the mutation option."):T(n,12),__DEV__?T("network-only"===g||"no-cache"===g,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):T("network-only"===g||"no-cache"===g,13),y=this.generateMutationId(),n=this.transform(n).document,r=this.getVariables(n,r),this.transform(n).hasClientExports?[4,this.localState.addExportedVariables(n,r,m)]:[3,2];case 1:r=S.sent(),S.label=2;case 2:return b=this.mutationStore&&(this.mutationStore[y]={mutation:n,variables:r,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:y,document:n,variables:r,fetchPolicy:g,errorPolicy:h,context:m,updateQueries:o,update:l,keepRootFields:v}),this.broadcastQueries(),E=this,[2,new Promise(function(U,$){return Tf(E.getObservableFromLink(n,D(D({},m),{optimisticResponse:i}),r,!1),function(J){if(ca(J)&&"none"===h)throw new Xr({graphQLErrors:J.errors});b&&(b.loading=!1,b.error=null);var Se=D({},J);return"function"==typeof a&&(a=a(Se)),"ignore"===h&&ca(Se)&&delete Se.errors,E.markMutationResult({mutationId:y,result:Se,document:n,variables:r,fetchPolicy:g,errorPolicy:h,context:m,update:l,updateQueries:o,awaitRefetchQueries:c,refetchQueries:a,removeOptimistic:i?y:void 0,onQueryUpdated:f,keepRootFields:v})}).subscribe({next:function(J){E.broadcastQueries(),U(J)},error:function(J){b&&(b.loading=!1,b.error=J),i&&E.cache.removeOptimistic(y),E.broadcastQueries(),$(J instanceof Xr?J:new Xr({networkError:J}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;void 0===n&&(n=this.cache);var i=e.result,o=[],s="no-cache"===e.fetchPolicy;if(!s&&Gf(i,e.errorPolicy)){o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var a=e.updateQueries;a&&this.queries.forEach(function(c,l){var f=c.observableQuery,d=f&&f.queryName;if(d&&VF.call(a,d)){var h=a[d],p=r.queries.get(l),g=p.document,v=p.variables,m=n.diff({query:g,variables:v,returnPartialData:!0,optimistic:!1}),y=m.result;if(m.complete&&y){var E=h(y,{mutationResult:i,queryName:g&&df(g)||void 0,queryVariables:v});E&&o.push({result:E,dataId:"ROOT_QUERY",query:g,variables:v})}}})}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(c){s||o.forEach(function(d){return c.write(d)});var l=e.update;if(l){if(!s){var f=c.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});f.complete&&(i=D(D({},i),{data:f.result}))}l(c,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&c.modify({id:"ROOT_MUTATION",fields:function(d,h){return"__typename"===h.fieldName?d:h.DELETE}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(c){return u.push(c)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i="function"==typeof e?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(D(D({},n),{result:{data:i}}),o)}catch(s){__DEV__&&T.error(s)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=function tF(t){return WD([eF],oo(t))}(this.cache.transformForLink(r)),o=this.localState.clientQuery(r),s=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:QP(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:s,defaultVars:pf(so(r)),asQuery:D(D({},r),{definitions:r.definitions.map(function(c){return"OperationDefinition"===c.kind&&"query"!==c.operation?D(D({},c),{operation:"query"}):c})})},u=function(c){c&&!n.has(c)&&n.set(c,a)};u(e),u(r),u(o),u(s)}return n.get(e)},t.prototype.getVariables=function(e,n){return D(D({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){void 0===(e=D(D({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new Qf(this),r=new Nf({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:e.query,observableQuery:r,variables:e.variables}),r},t.prototype.query=function(e,n){var r=this;return void 0===n&&(n=this.generateQueryId()),__DEV__?T(e.query,"query option is required. You must specify your GraphQL document in the query option."):T(e.query,14),__DEV__?T("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):T("Document"===e.query.kind,15),__DEV__?T(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):T(!e.returnPartialData,16),__DEV__?T(!e.pollInterval,"pollInterval option only supported on watchQuery."):T(!e.pollInterval,17),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new se("Store reset while query was in flight (not completed in link chain)"):new se(18)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=oe.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;void 0===e&&(e="active");var r=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(s){"string"==typeof s?i.set(s,!1):function GN(t){return ye(t)&&"Document"===t.kind&&Array.isArray(t.definitions)}(s)?i.set(n.transform(s).document,!1):ye(s)&&s.query&&o.add(s)}),this.queries.forEach(function(s,a){var u=s.observableQuery,c=s.document;if(u){if("all"===e)return void r.set(a,u);var l=u.queryName;if("standby"===u.options.fetchPolicy||"active"===e&&!u.hasObservers())return;("active"===e||l&&i.has(l)||c&&i.has(c))&&(r.set(a,u),l&&i.set(l,!0),c&&i.set(c,!0))}}),o.size&&o.forEach(function(s){var a=Af("legacyOneTimeQuery"),u=n.getQuery(a).init({document:s.query,variables:s.variables}),c=new Nf({queryManager:n,queryInfo:u,options:D(D({},s),{fetchPolicy:"network-only"})});T(c.queryId===a),u.setObservableQuery(c),r.set(a,c)}),__DEV__&&i.size&&i.forEach(function(s,a){s||__DEV__&&T.warn("Unknown query ".concat("string"==typeof a?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||"standby"!==s&&"cache-only"!==s)&&r.push(i.refetch()),n.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=e.variables,a=e.context,u=void 0===a?{}:a;r=this.transform(r).document,s=this.getVariables(r,s);var c=function(f){return n.getObservableFromLink(r,u,f).map(function(d){if("no-cache"!==i&&(Gf(d,o)&&n.cache.write({query:r,result:d.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),n.broadcastQueries()),ca(d))throw new Xr({graphQLErrors:d.errors});return d})};if(this.transform(r).hasClientExports){var l=this.localState.addExportedVariables(r,s,u).then(c);return new ce(function(f){var d=null;return l.then(function(h){return d=h.subscribe(f)},f.error),function(){return d&&d.unsubscribe()}})}return c(s)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s,o=this;void 0===i&&(i=null!==(s=null==n?void 0:n.queryDeduplication)&&void 0!==s?s:this.queryDeduplication);var a,u=this.transform(e).serverQuery;if(u){var l=this.inFlightLinkObservables,f=this.link,d={query:u,variables:r,operationName:df(u)||void 0,context:this.prepareContext(D(D({},n),{forceFetch:!i}))};if(n=d.context,i){var h=l.get(u)||new Map;l.set(u,h);var p=er(r);if(!(a=h.get(p))){var g=new po([gf(f,d)]);h.set(p,a=g),g.cleanup(function(){h.delete(p)&&h.size<1&&l.delete(u)})}}else a=new po([gf(f,d)])}else a=new po([ce.of({data:{}})]),n=this.prepareContext(n);var v=this.transform(e).clientQuery;return v&&(a=Tf(a,function(m){return o.localState.runResolvers({document:v,remoteResult:m,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId();return Tf(this.getObservableFromLink(e.document,r.context,r.variables),function(o){var s=tr(o.errors);if(i>=e.lastRequestId){if(s&&"none"===r.errorPolicy)throw e.markError(new Xr({graphQLErrors:o.errors}));e.markResult(o,r,n),e.markReady()}var a={data:o.data,loading:!1,networkStatus:e.networkStatus||oe.ready};return s&&"ignore"!==r.errorPolicy&&(a.errors=o.errors),a},function(o){var s=function cF(t){return t.hasOwnProperty("graphQLErrors")}(o)?o:new Xr({networkError:o});throw i>=e.lastRequestId&&e.markError(s),s})},t.prototype.fetchQueryObservable=function(e,n,r){var i=this;void 0===r&&(r=oe.loading);var o=this.transform(n.query).document,s=this.getVariables(o,n.variables),a=this.getQuery(e),u=n.fetchPolicy,l=n.errorPolicy,d=n.returnPartialData,p=n.notifyOnNetworkStatusChange,v=n.context,y=Object.assign({},n,{query:o,variables:s,fetchPolicy:void 0===u?"cache-first":u,errorPolicy:void 0===l?"none":l,returnPartialData:void 0!==d&&d,notifyOnNetworkStatusChange:void 0!==p&&p,context:void 0===v?{}:v}),b=function(S){return y.variables=S,i.fetchQueryByPolicy(a,y,r)};this.fetchCancelFns.set(e,function(S){setTimeout(function(){return E.cancel(S)})});var E=new po(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(b):b(y.variables));return E.cleanup(function(){i.fetchCancelFns.delete(e),function gF(t){var e=t.fetchPolicy,r=t.nextFetchPolicy;r&&(t.fetchPolicy="function"==typeof r?r.call(t,void 0===e?"cache-first":e):r)}(n)}),E},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,o=e.optimistic,s=void 0!==o&&o,a=e.removeOptimistic,u=void 0===a?s?Af("refetchQueries"):void 0:a,c=e.onQueryUpdated,l=new Map;i&&this.getObservableQueries(i).forEach(function(d,h){l.set(h,{oq:d,lastDiff:n.getQuery(h).getDiff()})});var f=new Map;return r&&this.cache.batch({update:r,optimistic:s&&u||!1,removeOptimistic:u,onWatchUpdated:function(d,h,p){var g=d.watcher instanceof Qf&&d.watcher.observableQuery;if(g){if(c){l.delete(g.queryId);var v=c(g,h,p);return!0===v&&(v=g.refetch()),!1!==v&&f.set(g,v),v}null!==c&&l.set(g.queryId,{oq:g,lastDiff:p,diff:h})}}}),l.size&&l.forEach(function(d,h){var m,p=d.oq,g=d.lastDiff,v=d.diff;if(c){if(!v){var y=p.queryInfo;y.reset(),v=y.getDiff()}m=c(p,v,g)}(!c||!0===m)&&(m=p.refetch()),!1!==m&&f.set(p,m),h.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(h)}),u&&this.cache.removeOptimistic(u),f},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,o=n.query,s=n.variables,a=n.fetchPolicy,u=n.refetchWritePolicy,c=n.errorPolicy,l=n.returnPartialData,f=n.context,d=n.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:o,variables:s,networkStatus:r});var p=function(){return e.getDiff(s)},g=function(E,S){void 0===S&&(S=e.networkStatus||oe.loading);var U=E.result;__DEV__&&!l&&!Pe(U,{})&&tb(E.missing);var $=function(J){return ce.of(D({data:J,loading:no(S),networkStatus:S},E.complete?null:{partial:!0}))};return U&&i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:U},context:f,variables:s,onlyRunForcedResolvers:!0}).then(function(J){return $(J.data||void 0)}):$(U)},v="no-cache"===a?0:r===oe.refetch&&"merge"!==u?1:2,m=function(){return i.getResultsFromLink(e,v,{variables:s,context:f,fetchPolicy:a,errorPolicy:c})},y=d&&"number"==typeof h&&h!==r&&no(r);switch(a){default:case"cache-first":return(b=p()).complete?[g(b,e.markReady())]:l||y?[g(b),m()]:[m()];case"cache-and-network":var b;return(b=p()).complete||l||y?[g(b),m()]:[m()];case"cache-only":return[g(p(),e.markReady())];case"network-only":return y?[g(p()),m()]:[m()];case"no-cache":return y?[g(e.getDiff()),m()]:[m()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Qf(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){void 0===e&&(e={});var n=this.localState.prepareContext(e);return D(D({},n),{clientAwareness:this.clientAwareness})},t}(),Cb=!1;function zf(t,e){return uo(t,e,e.variables&&{variables:D(D({},t.variables),e.variables)})}var Ib=function(){function t(e){var n=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,s=e.cache,a=e.ssrMode,u=void 0!==a&&a,c=e.ssrForceFetchDelay,l=void 0===c?0:c,f=e.connectToDevTools,d=void 0===f?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:f,h=e.queryDeduplication,p=void 0===h||h,g=e.defaultOptions,v=e.assumeImmutableResults,m=void 0!==v&&v,y=e.resolvers,b=e.typeDefs,E=e.fragmentMatcher,S=e.name,U=e.version,$=e.link;if($||($=r?new PP({uri:r,credentials:e.credentials,headers:e.headers}):Yn.empty()),!s)throw __DEV__?new se("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new se(7);if(this.link=$,this.cache=s,this.disableNetworkFetches=u||l>0,this.queryDeduplication=p,this.defaultOptions=g||{},this.typeDefs=b,l&&setTimeout(function(){return n.disableNetworkFetches=!1},l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Cb&&__DEV__&&(Cb=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var J=window.navigator,Se=J&&J.userAgent,Qe=void 0;"string"==typeof Se&&(Se.indexOf("Chrome/")>-1?Qe="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Se.indexOf("Firefox/")>-1&&(Qe="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),Qe&&__DEV__&&T.log("Download the Apollo DevTools for a better development experience: "+Qe)}this.version="3.5.10",this.localState=new Eb({cache:s,client:this,resolvers:y,fragmentMatcher:E}),this.queryManager=new BF({cache:this.cache,link:this.link,queryDeduplication:p,ssrMode:u,clientAwareness:{name:S,version:U},localState:this.localState,assumeImmutableResults:m,onBroadcast:d?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=zf(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=D(D({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=zf(this.defaultOptions.query,e)),__DEV__?T("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):T("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=D(D({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=zf(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return void 0===n&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return void 0===n&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return gf(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(s,a){r.push(a),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){__DEV__&&T.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),o},t.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}();class HF extends Et{constructor(e,n){super()}schedule(e,n=0){return this}}const ha={setInterval(t,e,...n){const{delegate:r}=ha;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ha;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class $F extends HF{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ir(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Tb={now:()=>(Tb.delegate||Date).now(),delegate:void 0};class yo{constructor(e,n=yo.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yo.now=Tb.now;class qF extends yo{constructor(e,n=yo.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const GF=new class QF extends qF{}(class UF extends $F{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}});function Sb(...t){return function zF(){return xd(1)}()(Ln(t,xo(t)))}function Mb(t){return new he(e=>(t().then(n=>{e.closed||(e.next(n),e.complete())},n=>{e.closed||e.error(n)}),()=>e.unsubscribe()))}class JF{constructor(e){this.zone=e,this.now=Date.now?Date.now:()=>+new Date}schedule(e,n=0,r){return this.zone.run(()=>GF.schedule(e,n,r))}}function Ob(t){return t[Mo]=()=>t,t}function Ab(t,e){return t.pipe(ka(new JF(e)))}function xb(t,e,n){return t&&void 0!==t[e]?t[e]:n}class ZF{constructor(e,n,r){this.obsQuery=e;const i=Ab(Ln(Ob(this.obsQuery)),n);this.valueChanges=r.useInitialLoading?i.pipe(function YF(t){return function(n){return new he(function(i){const o=t.getCurrentResult(),{loading:s,errors:a,error:u,partial:c,data:l}=o,{partialRefetch:f,fetchPolicy:d}=t.options,h=a||u;return f&&c&&(!l||0===Object.keys(l).length)&&"cache-only"!==d&&!s&&!h&&i.next(Object.assign(Object.assign({},o),{loading:!0,networkStatus:oe.loading})),n.subscribe(i)})}}(this.obsQuery)):i,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}}const XF=new W("APOLLO_FLAGS"),Nb=new W("APOLLO_OPTIONS"),ek=new W("APOLLO_NAMED_OPTIONS");class Pb{constructor(e,n,r){this.ngZone=e,this.flags=n,this._client=r,this.useInitialLoading=xb(n,"useInitialLoading",!1),this.useMutationLoading=xb(n,"useMutationLoading",!1)}watchQuery(e){return new ZF(this.ensureClient().watchQuery(Object.assign({},e)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},e))}query(e){return Mb(()=>this.ensureClient().query(Object.assign({},e)))}mutate(e){var n;return function KF(t,e){return e?t.pipe(function WF(...t){const e=xo(t);return jt((n,r)=>{(e?Sb(t,n,e):Sb(t,n)).subscribe(r)})}({loading:!0}),M(n=>Object.assign(Object.assign({},n),{loading:!!n.loading}))):t.pipe(M(n=>Object.assign(Object.assign({},n),{loading:!1})))}(Mb(()=>this.ensureClient().mutate(Object.assign({},e))),null!==(n=e.useMutationLoading)&&void 0!==n?n:this.useMutationLoading)}subscribe(e,n){const r=Ln(Ob(this.ensureClient().subscribe(Object.assign({},e))));return n&&!0!==n.useZone?r:Ab(r,this.ngZone)}getClient(){return this.client}setClient(e){this.client=e}get client(){return this._client}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let pa=(()=>{class t extends Pb{constructor(n,r,i,o){if(super(n,o),this._ngZone=n,this.map=new Map,r&&this.createDefault(r),i&&"object"==typeof i)for(let s in i)i.hasOwnProperty(s)&&this.createNamed(s,i[s])}create(n,r){Wf(r)?this.createDefault(n):this.createNamed(r,n)}default(){return this}use(n){return Wf(n)?this.default():this.map.get(n)}createDefault(n){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new Ib(n))}createNamed(n,r){if(this.map.has(n))throw new Error(`Client ${n} has been already created`);this.map.set(n,new Pb(this._ngZone,this.flags,new Ib(r)))}removeClient(n){Wf(n)?this._client=void 0:this.map.delete(n)}}return t.\u0275fac=function(n){return new(n||t)(A(et),A(Nb,8),A(ek,8),A(XF,8))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})();function Wf(t){return!t||"default"===t}const tk=[pa];let nk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:tk}),t})();class rk extends Yn{constructor(e,n){super(),this.httpClient=e,this.options=n,this.print=SD,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new ce(i=>{const o=r.getContext(),s=(y,b)=>function nr(...t){const e=t.find(n=>void 0!==n);return void 0===e?t[t.length-1]:e}(o[y],this.options[y],b);let a=s("method","POST");const u=s("includeQuery",!0),c=s("includeExtensions",!1),l=s("uri","graphql"),f=s("withCredentials"),d=s("useMultipart"),h=!0===this.options.useGETForQueries,p=r.query.definitions.some(y=>"OperationDefinition"===y.kind&&"query"===y.operation);h&&p&&(a="GET");const g={method:a,url:"function"==typeof l?l(r):l,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:f,useMultipart:d,headers:this.options.headers}};c&&(g.body.extensions=r.extensions),u&&(g.body.query=this.print(r.query));const v=function Rb(t){let e=t.headers&&t.headers instanceof _t?t.headers:new _t(t.headers);if(t.clientAwareness){const{name:n,version:r}=t.clientAwareness;n&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",n)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}(o);g.options.headers=((t,e)=>t&&e?e.keys().reduce((r,i)=>r.set(i,e.getAll(i)),t):e||t)(g.options.headers,v);const m=((t,e,n)=>{const r=-1!==["POST","PUT","PATCH"].indexOf(t.method.toUpperCase()),o=t.body.length;let a,s=t.options&&t.options.useMultipart;if(s){if(o)return new he(c=>c.error(new Error("File upload is not available when combined with Batching")));if(!r)return new he(c=>c.error(new Error("File upload is not available when GET is used")));if(!n)return new he(c=>c.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));a=n(t.body),s=!!a.files.size}let u={};if(o){if(!r)return new he(c=>c.error(new Error("Batching is not available for GET requests")));u={body:t.body}}else{const c=s?a.clone:t.body;u=r?{body:c}:{params:Object.keys(t.body).reduce((f,d)=>{const h=t.body[d];return f[d]=(c=>-1!==["variables","extensions"].indexOf(c.toLowerCase()))(d)?JSON.stringify(h):h,f},{})}}if(s&&r){const c=new FormData;c.append("operations",JSON.stringify(u.body));const l={},f=a.files;let d=0;f.forEach(h=>{l[++d]=h}),c.append("map",JSON.stringify(l)),d=0,f.forEach((h,p)=>{c.append(++d+"",p,p.name)}),u.body=c}return e.request(t.method,t.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},u),t.options))})(g,this.httpClient,this.options.extractFiles).subscribe({next:y=>{r.setContext({response:y}),i.next(y.body)},error:y=>i.error(y),complete:()=>i.complete()});return()=>{m.closed||m.unsubscribe()}})}request(e){return this.requester(e)}}let Lb=(()=>{class t{constructor(n){this.httpClient=n}create(n){return new rk(this.httpClient,n)}}return t.\u0275fac=function(n){return new(n||t)(A(eo))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ik=function(){function t(){this.getFragmentDoc=da(QN)}return t.prototype.batch=function(e){var i,n=this;return this.performTransaction(function(){return i=e.update(n)},"string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,n){return void 0===n&&(n=!!e.optimistic),this.read(D(D({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return void 0===n&&(n=!!e.optimistic),this.read(D(D({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=hn(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=hn(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),o=n(i);return null==o?i:(r.writeQuery(D(D({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),o=n(i);return null==o?i:(r.writeFragment(D(D({},e),{data:o})),o)}})},t}(),jb=function t(e,n,r,i){this.message=e,this.path=n,this.query=r,this.variables=i};function Kf(t){return __DEV__&&function ok(t){var e=new Set([t]);return e.forEach(function(n){ye(n)&&function sk(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){ye(n[r])&&e.add(n[r])})}),t}(t),t}var ma=Object.create(null),Jf=function(){return ma},Vb=Object.create(null),vo=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Kf(te(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return te(i)?r.has(i.__ref):"object"==typeof i},this.toReference=function(i,o){if("string"==typeof i)return Kr(i);if(te(i))return i;var s=r.policies.identify(i)[0];if(s){var a=Kr(s);return o&&r.merge(s,i),a}}}return t.prototype.toObject=function(){return D({},this.data)},t.prototype.has=function(e){return void 0!==this.lookup(e,!0)},t.prototype.get=function(e,n){if(this.group.depend(e,n),Fe.call(this.data,e)){var r=this.data[e];if(r&&Fe.call(r,n))return r[n]}return"__typename"===n&&Fe.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Nn?this.parent.get(e,n):void 0},t.prototype.lookup=function(e,n){return n&&this.group.depend(e,"__exists"),Fe.call(this.data,e)?this.data[e]:this instanceof Nn?this.parent.lookup(e,n):this.policies.rootTypenamesById[e]?Object.create(null):void 0},t.prototype.merge=function(e,n){var i,r=this;te(e)&&(e=e.__ref),te(n)&&(n=n.__ref);var o="string"==typeof e?this.lookup(i=e):e,s="string"==typeof n?this.lookup(i=n):n;if(s){__DEV__?T("string"==typeof i,"store.merge expects a string ID"):T("string"==typeof i,1);var a=new fo(uk).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);o||(u.__exists=1),Object.keys(s).forEach(function(c){if(!o||o[c]!==a[c]){u[c]=1;var l=An(c);l!==c&&!r.policies.hasKeyArgs(a.__typename,l)&&(u[l]=1),void 0===a[c]&&!(r instanceof Nn)&&delete a[c]}}),u.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete u.__typename,Object.keys(u).forEach(function(c){return r.group.dirty(i,c)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,u={DELETE:ma,INVALIDATE:Vb,isReference:te,toReference:this.toReference,canRead:this.canRead,readField:function(c,l){return r.policies.readField("string"==typeof c?{fieldName:c,from:l||Kr(e)}:c,{store:r})}};if(Object.keys(i).forEach(function(c){var l=An(c),f=i[c];if(void 0!==f){var d="function"==typeof n?n:n[c]||n[l];if(d){var h=d===Jf?ma:d(Kf(f),D(D({},u),{fieldName:l,storeFieldName:c,storage:r.getStorage(e,c)}));h===Vb?r.group.dirty(e,c):(h===ma&&(h=void 0),h!==f&&(o[c]=h,s=!0,f=h))}void 0!==f&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof Nn?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(e,a?((i={})[a]=Jf,i):Jf)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(Fe.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Nn&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){Fe.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(o){e&&Fe.call(e,o)||n.delete(o)}),e){var r=e.__META,i=hn(e,["__META"]);Object.keys(i).forEach(function(o){n.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Nn?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){Fe.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof Nn;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!Fe.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(o){te(o)&&(n[o.__ref]=!0),ye(o)&&Object.keys(o).forEach(function(s){var a=o[s];ye(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),Bb=function(){function t(e,n){void 0===n&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?mb():null,this.keyMaker=new lo(Xn)},t.prototype.depend=function(e,n){if(this.d){this.d(Yf(e,n));var r=An(n);r!==n&&this.d(Yf(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(Yf(e,n),"__exists"===n?"forget":"setDirty")},t}();function Yf(t,e){return e+"#"+t}function Hb(t,e){Do(t)&&t.group.depend(e,"__exists")}!function(t){var e=function(n){function r(i){var s=i.resultCaching,u=i.seed,c=n.call(this,i.policies,new Bb(void 0===s||s))||this;return c.stump=new ak(c),c.storageTrie=new lo(Xn),u&&c.replace(u),c}return wt(r,n),r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e}(vo||(vo={}));var Nn=function(t){function e(n,r,i,o){var s=t.call(this,r.policies,o)||this;return s.id=n,s.parent=r,s.replay=i,s.group=o,i(s),s}return wt(e,t),e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(u){Pe(s[u],a[u])||r.group.dirty(o,u)}):(r.group.dirty(o,"__exists"),Object.keys(a).forEach(function(u){r.group.dirty(o,u)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return D(D({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return Fe.call(this.data,n)?D(D({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(vo),ak=function(t){function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new Bb(n.group.caching,n.group))||this}return wt(e,t),e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Nn);function uk(t,e,n){var r=t[n],i=e[n];return Pe(r,i)?r:i}function Do(t){return!!(t instanceof vo&&t.group.caching)}function $b(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var ck=function(){function t(e){var n=this;this.knownResults=new(Xn?WeakMap:Map),this.config=uo(e,{addTypename:!1!==e.addTypename,canonizeResults:$D(e)}),this.canon=e.canon||new wf,this.executeSelectionSet=da(function(r){var i,o=r.context.canonizeResults,s=$b(r);s[3]=!o;var a=(i=n.executeSelectionSet).peek.apply(i,s);return a?o?D(D({},a),{result:n.canon.admit(a.result)}):a:(Hb(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:$b,makeCacheKey:function(r,i,o,s){if(Do(o.store))return o.store.makeCacheKey(r,te(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=da(function(r){return Hb(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(Do(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new wf},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,o=void 0===i?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,u=void 0===a||a,c=e.canonizeResults,l=void 0===c?this.config.canonizeResults:c,f=this.config.cache.policies;s=D(D({},pf(vD(r))),s);var g,d=Kr(o),h=new fo,p=this.executeSelectionSet({selectionSet:hf(r).selectionSet,objectOrReference:d,enclosingRef:d,context:{store:n,query:r,policies:f,variables:s,varString:er(s),canonizeResults:l,fragmentMap:ra(oa(r)),merge:function(v,m){return h.merge(v,m)}}});if(p.missing&&(g=[new jb(lk(p.missing),p.missing,r,s)],!u))throw g[0];return{result:p.result,complete:!g,missing:g}},t.prototype.isFresh=function(e,n,r,i){if(Do(i.store)&&this.knownResults.get(e)===r){var o=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(te(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var d,a=s.variables,u=s.policies,l=s.store.getFieldValue(i,"__typename"),f={};function h(m,y){var b;return m.missing&&(d=s.merge(d,((b={})[y]=m.missing,b))),m.result}this.config.addTypename&&"string"==typeof l&&!u.rootIdsByTypename[l]&&(f={__typename:l});var p=new Set(r.selections);p.forEach(function(m){var y,b;if(ua(m,a))if(fn(m)){var E=u.readField({fieldName:m.name.value,field:m,variables:s.variables,from:i},s),S=Jn(m);void 0===E?Of.added(m)||(d=s.merge(d,((y={})[S]="Can't find field '".concat(m.name.value,"' on ").concat(te(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),y))):be(E)?E=h(n.executeSubSelectedArray({field:m,array:E,enclosingRef:o,context:s}),S):m.selectionSet?null!=E&&(E=h(n.executeSelectionSet({selectionSet:m.selectionSet,objectOrReference:E,enclosingRef:te(E)?E:o,context:s}),S)):s.canonizeResults&&(E=n.canon.pass(E)),void 0!==E&&(f=s.merge(f,((b={})[S]=E,b)))}else{var U=cf(m,s.fragmentMap);U&&u.fragmentMatches(U,l)&&U.selectionSet.selections.forEach(p.add,p)}});var g={result:f,missing:d},v=s.canonizeResults?this.canon.admit(g):Kf(g);return v.result&&this.knownResults.set(v.result,r),v},t.prototype.execSubSelectedArrayImpl=function(e){var a,n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context;function u(c,l){var f;return c.missing&&(a=s.merge(a,((f={})[l]=c.missing,f))),c.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(c,l){return null===c?null:be(c)?u(n.executeSubSelectedArray({field:r,array:c,enclosingRef:o,context:s}),l):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:te(c)?c:o,context:s}),l):(__DEV__&&function fk(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){ye(i)&&(__DEV__?T(!te(i),"Missing selection set for object of type ".concat(function YP(t,e){return te(e)?t.get(e.__ref,"__typename"):e&&e.__typename}(t,i)," returned for query field ").concat(e.name.value)):T(!te(i),5),Object.values(i).forEach(r.add,r))})}}(s.store,r,c),c)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function lk(t){try{JSON.stringify(t,function(e,n){if("string"==typeof n)throw n;return n})}catch(e){return e}}var Ub=Object.create(null);function Zf(t){var e=JSON.stringify(t);return Ub[e]||(Ub[e]=Object.create(null))}function qb(t){var e=Zf(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(s,a){return r.readField(a,s)},o=r.keyObject=Xf(t,function(s){var a=ni(r.storeObject,s,i);return void 0===a&&n!==r.storeObject&&Fe.call(n,s[0])&&(a=ni(n,s,zb)),__DEV__?T(void 0!==a,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):T(void 0!==a,2),a});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function Qb(t){var e=Zf(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,o=r.variables,s=r.fieldName,a=Xf(t,function(c){var l=c[0],f=l.charAt(0);if("@"!==f)if("$"!==f){if(n)return ni(n,c)}else{var g=l.slice(1);if(o&&Fe.call(o,g)){var v=c.slice(0);return v[0]=g,ni(o,v)}}else if(i&&tr(i.directives)){var d=l.slice(1),h=i.directives.find(function(m){return m.name.value===d}),p=h&&ia(h,o);return p&&ni(p,c.slice(1))}}),u=JSON.stringify(a);return(n||"{}"!==u)&&(s+=":"+u),s})}function Xf(t,e){var n=new fo;return Gb(t).reduce(function(r,i){var o,s=e(i);if(void 0!==s){for(var a=i.length-1;a>=0;--a)(o={})[i[a]]=s,s=o;r=n.merge(r,s)}return r},Object.create(null))}function Gb(t){var e=Zf(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,o){be(i)?(Gb(i).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(i),be(t[o+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function zb(t,e){return t[e]}function ni(t,e,n){return n=n||zb,Wb(e.reduce(function r(i,o){return be(i)?i.map(function(s){return r(s,o)}):i&&n(i,o)},t))}function Wb(t){return ye(t)?be(t)?t.map(Wb):Xf(Object.keys(t).sort(),function(e){return ni(t,e)}):t}function ed(t){return void 0!==t.args?t.args:t.field?ia(t.field,t.variables):null}lf.setStringify(er);var hk=function(){},Kb=function(t,e){return e.fieldName},Jb=function(t,e,n){return(0,n.mergeObjects)(t,e)},Yb=function(t,e){return e},pk=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=D({dataIdFromObject:BD},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,o=n&&(n.typename||(null===(r=n.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var u,s=n&&n.storeObject||e,a=D(D({},n),{typename:o,storeObject:s,readField:n&&n.readField||function(){var d=td(arguments,s);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),c=o&&this.getTypePolicy(o),l=c&&c.keyFn||this.config.dataIdFromObject;l;){var f=l(e,a);if(!be(f)){u=f;break}l=qb(f)}return u=u?String(u):void 0,a.keyObject?[u,a.keyObject]:[u]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,u=hn(i,["queryType","mutationType","subscriptionType"]);o&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),Fe.call(n.toBeAdded,r)?n.toBeAdded[r].push(u):n.toBeAdded[r]=[u]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),o=n.keyFields,s=n.fields;function a(u,c){u.merge="function"==typeof c?c:!0===c?Jb:!1===c?Yb:u.merge}a(i,n.merge),i.keyFn=!1===o?hk:be(o)?qb(o):"function"==typeof o?o:i.keyFn,s&&Object.keys(s).forEach(function(u){var c=r.getFieldPolicy(e,u,!0),l=s[u];if("function"==typeof l)c.read=l;else{var f=l.keyArgs,d=l.read,h=l.merge;c.keyFn=!1===f?Kb:be(f)?Qb(f):"function"==typeof f?f:c.keyFn,"function"==typeof d&&(c.read=d),a(c,h)}c.read&&c.merge&&(c.keyFn=c.keyFn||Kb)})},t.prototype.setRootTypename=function(e,n){void 0===n&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(__DEV__?T(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):T(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var o=i.match(UD);(!o||o[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!Fe.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(s){var a=n.getTypePolicy(s),u=a.fields,c=hn(a,["fields"]);Object.assign(r,c),Object.assign(r.fields,u)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){n.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var o=this;if(!e.typeCondition)return!0;if(!n)return!1;var s=e.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(n,!0),u=[a],c=function(p){var g=o.getSupertypeSet(p,!1);g&&g.size&&u.indexOf(g)<0&&u.push(g)},l=!(!r||!this.fuzzySubtypes.size),f=!1,d=0;d<u.length;++d){var h=u[d];if(h.has(s))return a.has(s)||(f&&__DEV__&&T.warn("Inferring subtype ".concat(n," of supertype ").concat(s)),a.add(s)),!0;h.forEach(c),l&&d===u.length-1&&Ef(e.selectionSet,r,i)&&(l=!1,f=!0,this.fuzzySubtypes.forEach(function(p,g){var v=n.match(p);v&&v[0]===n&&c(g)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!(!r||!r.keyFn)},t.prototype.getStoreFieldName=function(e){var o,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s=i&&i.keyFn;if(s&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},u=ed(e);s;){var c=s(u,a);if(!be(c)){o=c||r;break}s=Qb(c)}return void 0===o&&(o=e.field?function nP(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){return Jr(n[i.name.value],o.name,o.value,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){return Jr(r,i.name,i.value,e)})),lf(t.name.value,r,n)}(e.field,e.variables):lf(r,ed(e))),!1===o?r:r===An(o)?o:r+":"+o},t.prototype.readField=function(e,n){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var o=n.store.getFieldValue(r,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=An(s),u=n.store.getFieldValue(r,s),c=this.getFieldPolicy(e.typename,a,!1),l=c&&c.read;if(l){var f=Zb(this,r,e,n,n.store.getStorage(te(r)?r.__ref:r,s));return Uf.withValue(this.cache,l,[u,f])}return u}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),o=i&&i.merge;return!o&&r&&(o=(i=this.getTypePolicy(r))&&i.merge),o},t.prototype.runMergeFunction=function(e,n,r,i,o){var s=r.field,a=r.typename,u=r.merge;return u===Jb?Xb(i.store)(e,n):u===Yb?n:(i.overwrite&&(e=void 0),u(e,n,Zb(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},t}();function Zb(t,e,n,r,i){var o=t.getStoreFieldName(n),s=An(o),a=n.variables||r.variables,u=r.store,c=u.toReference,l=u.canRead;return{args:ed(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:te,toReference:c,storage:i,cache:t.cache,canRead:l,readField:function(){return t.readField(td(arguments,e,r),r)},mergeObjects:Xb(r.store)}}function td(t,e,n){var s,r=t[0];return"string"==typeof r?s={fieldName:r,from:t.length>1?t[1]:e}:(s=D({},r),Fe.call(s,"from")||(s.from=e)),__DEV__&&void 0===s.from&&__DEV__&&T.warn("Undefined 'from' passed to readField with arguments ".concat(function dk(t){var e=Af("stringifyForDisplay");return JSON.stringify(t,function(n,r){return void 0===r?e:r}).split(JSON.stringify(e)).join("<undefined>")}(Array.from(t)))),void 0===s.variables&&(s.variables=n),s}function Xb(t){return function(n,r){if(be(n)||be(r))throw __DEV__?new se("Cannot automatically merge arrays"):new se(4);if(ye(n)&&ye(r)){var i=t.getFieldValue(n,"__typename"),o=t.getFieldValue(r,"__typename");if(i&&o&&i!==o)return r;if(te(n)&&Zr(r))return t.merge(n.__ref,r),n;if(Zr(n)&&te(r))return t.merge(n,r.__ref),r;if(Zr(n)&&Zr(r))return D(D({},n),r)}return r}}function nd(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:D(D({},t),{clientOnly:e,deferred:n})),i}var gk=function(){function t(e,n){this.cache=e,this.reader=n}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,o=n.result,s=n.dataId,a=n.variables,u=n.overwrite,c=so(i),l=function ZP(){return new fo}();a=D(D({},pf(c)),a);var f={store:e,written:Object.create(null),merge:function(h,p){return l.merge(h,p)},variables:a,varString:er(a),fragmentMap:ra(oa(i)),overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:f});if(!te(d))throw __DEV__?new se("Could not identify object ".concat(JSON.stringify(o))):new se(6);return f.incomingById.forEach(function(h,p){var g=h.storeObject,v=h.mergeTree,m=h.fieldNodeSet,y=Kr(p);if(v&&v.map.size){var b=r.applyMerges(v,y,g,f);if(te(b))return;g=b}if(__DEV__&&!f.overwrite){var E=Object.create(null);m.forEach(function($){$.selectionSet&&(E[$.name.value]=!0)}),Object.keys(g).forEach(function($){(function($){return!0===E[An($)]})($)&&!function($){var J=v&&v.map.get($);return Boolean(J&&J.info&&J.info.merge)}($)&&function mk(t,e,n,r){var i=function(f){var d=r.getFieldValue(f,n);return"object"==typeof d&&d},o=i(t);if(o){var s=i(e);if(s&&!te(o)&&!Pe(o,s)&&!Object.keys(o).every(function(f){return void 0!==r.getFieldValue(s,f)})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),u=An(n),c="".concat(a,".").concat(u);if(!r_.has(c)){r_.add(c);var l=[];!be(o)&&!be(s)&&[o,s].forEach(function(f){var d=r.getFieldValue(f,"__typename");"string"==typeof d&&!l.includes(d)&&l.push(d)}),__DEV__&&T.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(a," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(s).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(y,g,$,f.store)})}e.merge(p,g)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,u=this.cache.policies,c=Object.create(null),l=r&&u.rootTypenamesById[r]||ff(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");"string"==typeof l&&(c.__typename=l);var f=function(){var b=td(arguments,c,s.variables);if(te(b.from)){var E=s.incomingById.get(b.from.__ref);if(E){var S=u.readField(D(D({},b),{from:E.storeObject}),s);if(void 0!==S)return S}}return u.readField(b,s)},d=new Set;this.flattenFields(o,i,s,l).forEach(function(b,E){var S,U=Jn(E),$=i[U];if(d.add(E),void 0!==$){var J=u.getStoreFieldName({typename:l,fieldName:E.name.value,field:E,variables:b.variables}),Se=t_(a,J),Qe=n.processFieldValue($,E,E.selectionSet?nd(b,!1,!1):b,Se),Pn=void 0;E.selectionSet&&(te(Qe)||Zr(Qe))&&(Pn=f("__typename",Qe));var Fn=u.getMergeFunction(l,E.name.value,Pn);Fn?Se.info={field:E,typename:l,merge:Fn}:n_(a,J),c=b.merge(c,((S={})[J]=Qe,S))}else __DEV__&&!b.clientOnly&&!b.deferred&&!Of.added(E)&&!u.getReadFunction(l,E.name.value)&&__DEV__&&T.error("Missing field '".concat(Jn(E),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var h=u.identify(i,{typename:l,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:c,readField:f}),g=h[1];r=r||h[0],g&&(c=s.merge(c,g))}catch(b){if(!r)throw b}if("string"==typeof r){var v=Kr(r),m=s.written[r]||(s.written[r]=[]);if(m.indexOf(o)>=0||(m.push(o),this.reader&&this.reader.isFresh(i,v,o,s)))return v;var y=s.incomingById.get(r);return y?(y.storeObject=s.merge(y.storeObject,c),y.mergeTree=rd(y.mergeTree,a),d.forEach(function(b){return y.fieldNodeSet.add(b)})):s.incomingById.set(r,{storeObject:c,mergeTree:ya(a)?void 0:a,fieldNodeSet:d}),v}return c},t.prototype.processFieldValue=function(e,n,r,i){var o=this;return n.selectionSet&&null!==e?be(e)?e.map(function(s,a){var u=o.processFieldValue(s,n,r,t_(i,a));return n_(i,a),u}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i}):__DEV__?XD(e):e},t.prototype.flattenFields=function(e,n,r,i){void 0===i&&(i=ff(n,e,r.fragmentMap));var o=new Map,s=this.cache.policies,a=new lo(!1);return function u(c,l){var f=a.lookup(c,l.clientOnly,l.deferred);f.visited||(f.visited=!0,c.selections.forEach(function(d){if(ua(d,r.variables)){var h=l.clientOnly,p=l.deferred;if(!(h&&p)&&tr(d.directives)&&d.directives.forEach(function(m){var y=m.name.value;if("client"===y&&(h=!0),"defer"===y){var b=ia(m,r.variables);(!b||!1!==b.if)&&(p=!0)}}),fn(d)){var g=o.get(d);g&&(h=h&&g.clientOnly,p=p&&g.deferred),o.set(d,nd(r,h,p))}else{var v=cf(d,r.fragmentMap);v&&s.fragmentMatches(v,i,n,r.variables)&&u(v.selectionSet,nd(r,h,p))}}}))}(e,r),o},t.prototype.applyMerges=function(e,n,r,i,o){var s,a=this;if(e.map.size&&!te(r)){var u=be(r)||!te(n)&&!Zr(n)?void 0:n,c=r;u&&!o&&(o=[te(u)?u.__ref:u]);var l,f=function(d,h){return be(d)?"number"==typeof h?d[h]:void 0:i.store.getFieldValue(d,String(h))};e.map.forEach(function(d,h){var p=f(u,h),g=f(c,h);if(void 0!==g){o&&o.push(h);var v=a.applyMerges(d,p,g,i,o);v!==g&&(l=l||new Map).set(h,v),o&&T(o.pop()===h)}}),l&&(r=be(c)?c.slice(0):D({},c),l.forEach(function(d,h){r[h]=d}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},t}(),e_=[];function t_(t,e){var n=t.map;return n.has(e)||n.set(e,e_.pop()||{map:new Map}),n.get(e)}function rd(t,e){if(t===e||!e||ya(e))return t;if(!t||ya(t))return e;var n=t.info&&e.info?D(D({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,o={info:n,map:r?new Map:t.map.size?t.map:e.map};if(r){var s=new Set(e.map.keys());t.map.forEach(function(a,u){o.map.set(u,rd(a,e.map.get(u))),s.delete(u)}),s.forEach(function(a){o.map.set(a,rd(e.map.get(a),t.map.get(a)))})}return o}function ya(t){return!t||!(t.info||t.map.size)}function n_(t,e){var n=t.map,r=n.get(e);r&&ya(r)&&(e_.push(r),n.delete(e))}var r_=new Set,i_=function(t){function e(n){void 0===n&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=LF,r.txCount=0,r.config=function JP(t){return uo(HD,t)}(n),r.addTypename=!!r.config.addTypename,r.policies=new pk({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return wt(e,t),e.prototype.init=function(){var n=this.data=new vo.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader;this.storeWriter=new gk(this,this.storeReader=new ck({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:$D(this.config),canon:n?void 0:i&&i.canon})),this.maybeBroadcastWatch=da(function(o,s){return r.broadcastWatch(o,s)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var s=o.optimistic?r.optimisticData:r.data;if(Do(s))return s.makeCacheKey(o.query,o.callback,er({optimistic:o.optimistic,rootId:o.rootId,variables:o.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return void 0===n&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=void 0!==r&&r;try{return this.storeReader.diffQueryAgainstStore(D(D({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof jb)return null;throw o}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&!1!==n.broadcast&&this.broadcastWatches()}},e.prototype.modify=function(n){if(Fe.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&!1!==n.broadcast&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(D(D({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||function RF(t){mo(t).vars.forEach(function(e){return e.attachCache(t)})}(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&_b(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){er.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(te(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&T.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(Fe.call(n,"id"))return!1;n=D(D({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&!1!==n.broadcast&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),er.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),_b(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var c,r=this,i=n.update,o=n.optimistic,s=void 0===o||o,a=n.removeOptimistic,u=n.onWatchUpdated,l=function(d){var p=r.data,g=r.optimisticData;++r.txCount,d&&(r.data=r.optimisticData=d);try{return c=i(r)}finally{--r.txCount,r.data=p,r.optimisticData=g}},f=new Set;return u&&!this.txCount&&this.broadcastWatches(D(D({},n),{onWatchUpdated:function(d){return f.add(d),!1}})),"string"==typeof s?this.optimisticData=this.optimisticData.addLayer(s,l):!1===s?l(this.data):l(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),u&&f.size?(this.broadcastWatches(D(D({},n),{onWatchUpdated:function(d,h){var p=u.call(this,d,h);return!1!==p&&f.delete(d),p}})),f.size&&f.forEach(function(d){return r.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(n),c},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||null!==r})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=Of(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,o=this.diff(n);r&&(n.optimistic&&"string"==typeof r.optimistic&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&!1===r.onWatchUpdated.call(this,n,o,i))||(!i||!Pe(i.result,o.result))&&n.callback(n.lastDiff=o,i)},e}(ik);function bo(t){return jt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Yt(n,void 0,void 0,s=>{o=Xt(t(s,bo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}const o_={enableInterceptor:!0,enableGraphQL:!0,enableNplEngine:!0,enableLogging:!0};function id(){return"undefined"!=typeof window&&!0===window.TB_PRODUCTION_MODE?Object.assign(Object.assign({},o_),{enableLogging:!1}):o_}const yk=[{pattern:/^\/api\/device$/,methods:["POST"],feature:"device",operation:"write"},{pattern:/^\/api\/device\/([^\/]+)$/,methods:["PUT","DELETE"],feature:"device",operation:"write"},{pattern:/^\/api\/device\/([^\/]+)\/credentials$/,methods:["POST","PUT","DELETE"],feature:"device",operation:"write"},{pattern:/^\/api\/device\/([^\/]+)\/(assign|unassign)$/,methods:["POST"],feature:"device",operation:"write"},{pattern:/^\/api\/devices\/bulk$/,methods:["POST"],feature:"device",operation:"write"},{pattern:/^\/api\/devices\/bulk\/delete$/,methods:["POST"],feature:"device",operation:"write"},{pattern:/^\/api\/devices$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/device\/([^\/]+)$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/device\/info\/([^\/]+)$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/customer\/([^\/]+)\/devices$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/tenant\/([^\/]+)\/devices$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/tenant$/,methods:["POST"],feature:"tenant",operation:"write"},{pattern:/^\/api\/tenant\/([^\/]+)$/,methods:["PUT","DELETE"],feature:"tenant",operation:"write"},{pattern:/^\/api\/tenants\/bulk$/,methods:["POST"],feature:"tenant",operation:"write"},{pattern:/^\/api\/tenants\/bulk\/delete$/,methods:["POST"],feature:"tenant",operation:"write"},{pattern:/^\/api\/tenants$/,methods:["GET"],feature:"tenant",operation:"read"},{pattern:/^\/api\/tenant\/([^\/]+)$/,methods:["GET"],feature:"tenant",operation:"read"},{pattern:/^\/api\/tenant\/info\/([^\/]+)$/,methods:["GET"],feature:"tenant",operation:"read"},{pattern:/^\/api\/device\/([^\/]+)\/credentials$/,methods:["GET"],feature:"device",operation:"read"},{pattern:/^\/api\/device\/([^\/]+)\/claim$/,methods:["POST"],feature:"device",operation:"write"},{pattern:/^\/api\/device\/([^\/]+)\/reclaim$/,methods:["POST"],feature:"device",operation:"write"}];function va(t,e,n){const r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?jt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Yt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Oa}function dn(t,e){return jt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Yt(r,u=>{null==i||i.unsubscribe();let c=0;const l=o++;Xt(t(u,l)).subscribe(i=Yt(r,f=>r.next(e?e(u,f,l,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}let bk=(()=>{class t{constructor(n){this.http=n,this.NPL_ENGINE_URL="http://localhost:12000",this.OIDC_PROXY_URL="http://localhost:8080",this.DEVICE_PROTOCOL_PACKAGE="deviceManagement",this.DEVICE_PROTOCOL_NAME="DeviceManagement",this.TENANT_PROTOCOL_PACKAGE="tenantManagement",this.TENANT_PROTOCOL_NAME="TenantManagement",this.deviceProtocolInstanceId=null,this.tenantProtocolInstanceId=null}getOrCreateDeviceProtocolInstance(){return this.deviceProtocolInstanceId?Zi(this.deviceProtocolInstanceId):this.createProtocolInstance(this.DEVICE_PROTOCOL_PACKAGE,this.DEVICE_PROTOCOL_NAME).pipe(va(n=>{this.deviceProtocolInstanceId=n,console.log(`Device protocol instance created: ${n}`)}))}getOrCreateTenantProtocolInstance(){return this.tenantProtocolInstanceId?Zi(this.tenantProtocolInstanceId):this.createProtocolInstance(this.TENANT_PROTOCOL_PACKAGE,this.TENANT_PROTOCOL_NAME).pipe(va(n=>{this.tenantProtocolInstanceId=n,console.log(`Tenant protocol instance created: ${n}`)}))}createProtocolInstance(n,r){return this.getAuthToken().pipe(dn(i=>this.http.post(`${this.NPL_ENGINE_URL}/npl/${n}/${r}/`,{"@parties":{}},{headers:this.createHeaders(i)})),M(i=>{const o=i["@id"];if(!o)throw new Error("No protocol instance ID returned");return o}),bo(i=>{throw console.error("Failed to create protocol instance:",i),i}))}getAuthToken(){const n=this.getCurrentJWT();return n?this.http.post(`${this.OIDC_PROXY_URL}/protocol/openid-connect/token/exchange`,{},{headers:{Authorization:`Bearer ${n}`}}).pipe(M(r=>r.access_token),bo(r=>(console.error("Failed to exchange token:",r),this.getNewToken()))):this.getNewToken()}getCurrentJWT(){const n=localStorage.getItem("jwt_token")||localStorage.getItem("access_token")||sessionStorage.getItem("jwt_token")||sessionStorage.getItem("access_token");if(n)return n;if("undefined"!=typeof window&&window.location){const i=new URLSearchParams(window.location.search).get("token");if(i)return i}return null}getNewToken(){return new he(n=>{n.error(new Error("No authentication token available. Please log in first."))})}createHeaders(n){return new _t({Authorization:`Bearer ${n}`,"Content-Type":"application/json"})}callDeviceProtocolOperation(n,r,i){return this.getOrCreateDeviceProtocolInstance().pipe(dn(o=>(i?Zi(i):this.getAuthToken()).pipe(dn(a=>this.http.post(`${this.NPL_ENGINE_URL}/npl/${this.DEVICE_PROTOCOL_PACKAGE}/${this.DEVICE_PROTOCOL_NAME}/${o}/${n}`,r,{headers:this.createHeaders(a)})))))}callTenantProtocolOperation(n,r,i){return this.getOrCreateTenantProtocolInstance().pipe(dn(o=>(i?Zi(i):this.getAuthToken()).pipe(dn(a=>this.http.post(`${this.NPL_ENGINE_URL}/npl/${this.TENANT_PROTOCOL_PACKAGE}/${this.TENANT_PROTOCOL_NAME}/${o}/${n}`,r,{headers:this.createHeaders(a)})))))}saveDevice(n,r){return this.callDeviceProtocolOperation("saveDevice",{device:n},r)}deleteDevice(n,r){return this.callDeviceProtocolOperation("deleteDevice",{id:n},r)}assignDeviceToCustomer(n,r,i){return this.callDeviceProtocolOperation("assignDeviceToCustomer",{deviceId:n,customerId:r},i)}unassignDeviceFromCustomer(n,r){return this.callDeviceProtocolOperation("unassignDeviceFromCustomer",{deviceId:n},r)}updateDeviceCredentials(n,r,i){return this.callDeviceProtocolOperation("saveDeviceCredentials",{deviceId:n,credentials:r},i)}deleteDeviceCredentials(n,r){return this.callDeviceProtocolOperation("deleteDeviceCredentials",{deviceId:n},r)}claimDevice(n,r,i){return this.callDeviceProtocolOperation("claimDevice",{deviceId:n,secretKey:r},i)}reclaimDevice(n,r){return this.callDeviceProtocolOperation("reclaimDevice",{deviceId:n},r)}getDeviceProtocolState(){return this.getOrCreateDeviceProtocolInstance().pipe(dn(n=>this.getAuthToken().pipe(dn(r=>this.http.get(`${this.NPL_ENGINE_URL}/npl/${this.DEVICE_PROTOCOL_PACKAGE}/${this.DEVICE_PROTOCOL_NAME}/${n}/`,{headers:this.createHeaders(r)})))))}createTenant(n,r){return this.callTenantProtocolOperation("createTenant",{tenant:n},r)}updateTenant(n,r){return this.callTenantProtocolOperation("updateTenant",{tenant:n},r)}deleteTenant(n,r){return this.callTenantProtocolOperation("deleteTenant",{tenantId:n},r)}bulkImportTenants(n,r){return this.callTenantProtocolOperation("bulkImportTenants",{tenants:n},r)}bulkDeleteTenants(n,r){return this.callTenantProtocolOperation("bulkDeleteTenants",{tenantIds:n},r)}getTenantProtocolState(){return this.getOrCreateTenantProtocolInstance().pipe(dn(n=>this.getAuthToken().pipe(dn(r=>this.http.get(`${this.NPL_ENGINE_URL}/npl/${this.TENANT_PROTOCOL_PACKAGE}/${this.TENANT_PROTOCOL_NAME}/${n}/`,{headers:this.createHeaders(r)})))))}}return t.\u0275fac=function(n){return new(n||t)(A(eo))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ek(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}const wk=/\r\n|[\n\r]/g;function od(t,e){let n=0,r=1;for(const i of t.body.matchAll(wk)){if("number"==typeof i.index||Ek(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function Ck(t){return s_(t.source,od(t.source,t.start))}function s_(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=e.line+(t.locationOffset.line-1),u=e.column+(1===e.line?n:0),c=`${t.name}:${s}:${u}\n`,l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){const d=Math.floor(u/80),h=u%80,p=[];for(let g=0;g<f.length;g+=80)p.push(f.slice(g,g+80));return c+a_([[`${s} |`,p[0]],...p.slice(1,d+1).map(g=>["|",g]),["|","^".padStart(h)],["|",p[d+1]]])}return c+a_([[s-1+" |",l[i-1]],[`${s} |`,f],["|","^".padStart(u)],[`${s+1} |`,l[i+1]]])}function a_(t){const e=t.filter(([r,i])=>void 0!==i),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join("\n")}class sd extends Error{constructor(e,...n){var r,i,o;const{nodes:s,source:a,positions:u,path:c,originalError:l,extensions:f}=function Ik(t){const e=t[0];return null==e||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}(n);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=l?l:void 0,this.nodes=u_(Array.isArray(s)?s:s?[s]:void 0);const d=u_(null===(r=this.nodes)||void 0===r?void 0:r.map(p=>p.loc).filter(p=>null!=p));this.source=null!=a?a:null==d||null===(i=d[0])||void 0===i?void 0:i.source,this.positions=null!=u?u:null==d?void 0:d.map(p=>p.start),this.locations=u&&a?u.map(p=>od(a,p)):null==d?void 0:d.map(p=>od(p.source,p.start));const h=function _k(t){return"object"==typeof t&&null!==t}(null==l?void 0:l.extensions)?null==l?void 0:l.extensions:void 0;this.extensions=null!==(o=null!=f?f:h)&&void 0!==o?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=l&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,sd):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+Ck(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+="\n\n"+s_(this.source,n);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function u_(t){return void 0===t||0===t.length?void 0:t}function ke(t,e,n){return new sd(`Syntax Error: ${n}`,{source:t,positions:[e]})}var Da=(()=>(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(Da||(Da={})),Da))(),_=(()=>(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"}(_||(_={})),_))();class Tk{constructor(e){const n=new bD(_.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==_.EOF)do{if(e.next)e=e.next;else{const n=Mk(this,e.end);e.next=n,n.prev=e,e=n}}while(e.kind===_.COMMENT);return e}}function ri(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function ba(t,e){return c_(t.charCodeAt(e))&&l_(t.charCodeAt(e+1))}function c_(t){return t>=55296&&t<=56319}function l_(t){return t>=56320&&t<=57343}function rr(t,e){const n=t.source.body.codePointAt(e);if(void 0===n)return _.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return'"'===r?"'\"'":`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Te(t,e,n,r,i){return new bD(e,n,r,t.line,1+n-t.lineStart,i)}function Mk(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return Ok(t,i);case 33:return Te(t,_.BANG,i,i+1);case 36:return Te(t,_.DOLLAR,i,i+1);case 38:return Te(t,_.AMP,i,i+1);case 40:return Te(t,_.PAREN_L,i,i+1);case 41:return Te(t,_.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return Te(t,_.SPREAD,i,i+3);break;case 58:return Te(t,_.COLON,i,i+1);case 61:return Te(t,_.EQUALS,i,i+1);case 64:return Te(t,_.AT,i,i+1);case 91:return Te(t,_.BRACKET_L,i,i+1);case 93:return Te(t,_.BRACKET_R,i,i+1);case 123:return Te(t,_.BRACE_L,i,i+1);case 124:return Te(t,_.PIPE,i,i+1);case 125:return Te(t,_.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?kk(t,i):xk(t,i)}if(co(o)||45===o)return Ak(t,i,o);if(TD(o))return Rk(t,i);throw ke(t.source,i,39===o?"Unexpected single quote character ('), did you mean to use a double quote (\")?":ri(o)||ba(n,i)?`Unexpected character: ${rr(t,i)}.`:`Invalid character: ${rr(t,i)}.`)}return Te(t,_.EOF,r,r)}function Ok(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const o=n.charCodeAt(i);if(10===o||13===o)break;if(ri(o))++i;else{if(!ba(n,i))break;i+=2}}return Te(t,_.COMMENT,e,i,n.slice(e+1,i))}function Ak(t,e,n){const r=t.source.body;let i=e,o=n,s=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),co(o))throw ke(t.source,i,`Invalid number, unexpected digit after 0: ${rr(t,i)}.`)}else i=ad(t,i,o),o=r.charCodeAt(i);if(46===o&&(s=!0,o=r.charCodeAt(++i),i=ad(t,i,o),o=r.charCodeAt(i)),(69===o||101===o)&&(s=!0,o=r.charCodeAt(++i),(43===o||45===o)&&(o=r.charCodeAt(++i)),i=ad(t,i,o),o=r.charCodeAt(i)),46===o||TD(o))throw ke(t.source,i,`Invalid number, expected digit but got: ${rr(t,i)}.`);return Te(t,s?_.FLOAT:_.INT,e,i,r.slice(e,i))}function ad(t,e,n){if(!co(n))throw ke(t.source,e,`Invalid number, expected digit but got: ${rr(t,e)}.`);const r=t.source.body;let i=e+1;for(;co(r.charCodeAt(i));)++i;return i}function xk(t,e){const n=t.source.body,r=n.length;let i=e+1,o=i,s="";for(;i<r;){const a=n.charCodeAt(i);if(34===a)return s+=n.slice(o,i),Te(t,_.STRING,e,i+1,s);if(92!==a){if(10===a||13===a)break;if(ri(a))++i;else{if(!ba(n,i))throw ke(t.source,i,`Invalid character within String: ${rr(t,i)}.`);i+=2}}else{s+=n.slice(o,i);const u=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?Nk(t,i):Pk(t,i):Fk(t,i);s+=u.value,i+=u.size,o=i}}throw ke(t.source,i,"Unterminated string.")}function Nk(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(e+i++);if(125===o){if(i<5||!ri(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|_o(o),r<0)break}throw ke(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function Pk(t,e){const n=t.source.body,r=f_(n,e+2);if(ri(r))return{value:String.fromCodePoint(r),size:6};if(c_(r)&&92===n.charCodeAt(e+6)&&117===n.charCodeAt(e+7)){const i=f_(n,e+8);if(l_(i))return{value:String.fromCodePoint(r,i),size:12}}throw ke(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function f_(t,e){return _o(t.charCodeAt(e))<<12|_o(t.charCodeAt(e+1))<<8|_o(t.charCodeAt(e+2))<<4|_o(t.charCodeAt(e+3))}function _o(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Fk(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw ke(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function kk(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,o=e+3,s=o,a="";const u=[];for(;o<r;){const c=n.charCodeAt(o);if(34===c&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){a+=n.slice(s,o),u.push(a);const l=Te(t,_.BLOCK_STRING,e,o+3,mP(u).join("\n"));return t.line+=u.length-1,t.lineStart=i,l}if(92!==c||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==c&&13!==c)if(ri(c))++o;else{if(!ba(n,o))throw ke(t.source,o,`Invalid character within String: ${rr(t,o)}.`);o+=2}else a+=n.slice(s,o),u.push(a),13===c&&10===n.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;else a+=n.slice(s,o),s=o+1,o+=4}throw ke(t.source,o,"Unterminated string.")}function Rk(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r&&gP(n.charCodeAt(i));)++i;return Te(t,_.NAME,e,i,n.slice(e,i))}class _a{constructor(e,n={}){const r=function FN(t){return PN(t,ef)}(e)?e:new ef(e);this._lexer=new Tk(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(_.NAME);return this.node(e,{kind:N.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:N.DOCUMENT,definitions:this.many(_.SOF,this.parseDefinition,_.EOF)})}parseDefinition(){if(this.peek(_.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===_.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw ke(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(_.BRACE_L))return this.node(e,{kind:N.OPERATION_DEFINITION,operation:Zn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(_.NAME)&&(r=this.parseName()),this.node(e,{kind:N.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(_.NAME);switch(e.value){case"query":return Zn.QUERY;case"mutation":return Zn.MUTATION;case"subscription":return Zn.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(_.PAREN_L,this.parseVariableDefinition,_.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:N.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(_.DOLLAR),this.node(e,{kind:N.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:N.SELECTION_SET,selections:this.many(_.BRACE_L,this.parseSelection,_.BRACE_R)})}parseSelection(){return this.peek(_.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(_.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:N.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){return this.optionalMany(_.PAREN_L,e?this.parseConstArgument:this.parseArgument,_.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(_.COLON),this.node(n,{kind:N.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(_.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(_.NAME)?this.node(e,{kind:N.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:N.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this.node(e,!0===this._options.allowLegacyFragmentVariables?{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}:{kind:N.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case _.BRACKET_L:return this.parseList(e);case _.BRACE_L:return this.parseObject(e);case _.INT:return this.advanceLexer(),this.node(n,{kind:N.INT,value:n.value});case _.FLOAT:return this.advanceLexer(),this.node(n,{kind:N.FLOAT,value:n.value});case _.STRING:case _.BLOCK_STRING:return this.parseStringLiteral();case _.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:N.BOOLEAN,value:!0});case"false":return this.node(n,{kind:N.BOOLEAN,value:!1});case"null":return this.node(n,{kind:N.NULL});default:return this.node(n,{kind:N.ENUM,value:n.value})}case _.DOLLAR:if(e){if(this.expectToken(_.DOLLAR),this._lexer.token.kind===_.NAME)throw ke(this._lexer.source,n.start,`Unexpected variable "$${this._lexer.token.value}" in constant value.`);throw this.unexpected(n)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:N.STRING,value:e.value,block:e.kind===_.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:N.LIST,values:this.any(_.BRACKET_L,()=>this.parseValueLiteral(e),_.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:N.OBJECT,fields:this.any(_.BRACE_L,()=>this.parseObjectField(e),_.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(_.COLON),this.node(n,{kind:N.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(_.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(_.AT),this.node(n,{kind:N.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(_.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(_.BRACKET_R),n=this.node(e,{kind:N.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(_.BANG)?this.node(e,{kind:N.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:N.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(_.STRING)||this.peek(_.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);return this.node(e,{kind:N.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(_.COLON);const r=this.parseNamedType();return this.node(e,{kind:N.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:N.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:N.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(_.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(_.BRACE_L,this.parseFieldDefinition,_.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(_.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:N.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(_.PAREN_L,this.parseInputValueDef,_.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(_.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(_.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(e,{kind:N.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:N.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:N.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(_.EQUALS)?this.delimitedMany(_.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:N.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(_.BRACE_L,this.parseEnumValueDefinition,_.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:N.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw ke(this._lexer.source,this._lexer.token.start,`${Ea(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:N.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(_.BRACE_L,this.parseInputValueDef,_.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:N.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:N.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===r.length&&0===i.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:N.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===r.length&&0===i.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:N.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:N.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:N.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:N.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_.AT);const r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(e,{kind:N.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(_.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Da,n.value))return n;throw this.unexpected(e)}node(e,n){return!0!==this._options.noLocation&&(n.loc=new lP(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw ke(this._lexer.source,n.start,`Expected ${d_(e)}, found ${Ea(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const n=this._lexer.token;if(n.kind!==_.NAME||n.value!==e)throw ke(this._lexer.source,n.start,`Expected "${e}", found ${Ea(n)}.`);this.advanceLexer()}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===_.NAME&&n.value===e&&(this.advanceLexer(),!0)}unexpected(e){const n=null!=e?e:this._lexer.token;return ke(this._lexer.source,n.start,`Unexpected ${Ea(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do{i.push(n.call(this))}while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do{i.push(n.call(this))}while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do{r.push(n.call(this))}while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(n.kind!==_.EOF&&(++this._tokenCounter,void 0!==e&&this._tokenCounter>e))throw ke(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Ea(t){const e=t.value;return d_(t.kind)+(null!=e?` "${e}"`:"")}function d_(t){return function Sk(t){return t===_.BANG||t===_.DOLLAR||t===_.AMP||t===_.PAREN_L||t===_.PAREN_R||t===_.SPREAD||t===_.COLON||t===_.EQUALS||t===_.AT||t===_.BRACKET_L||t===_.BRACKET_R||t===_.BRACE_L||t===_.PIPE||t===_.BRACE_R}(t)?`"${t}"`:t}var wa=new Map,ud=new Map,h_=!0,Ca=!1;function p_(t){return t.replace(/[\s,]+/g," ").trim()}function Hk(t){var e=p_(t);if(!wa.has(e)){var n=function Lk(t,e){const n=new _a(t,e),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}(t,{experimentalFragmentVariables:Ca,allowLegacyFragmentVariables:Ca});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");wa.set(e,function Bk(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&"object"==typeof o&&e.add(o)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}(function Vk(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if("FragmentDefinition"===r.kind){var i=r.name.value,o=function jk(t){return p_(t.source.body.substring(t.start,t.end))}(r.loc),s=ud.get(i);s&&!s.has(o)?h_&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):s||ud.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),n.push(r))}else n.push(r)}),D(D({},t),{definitions:n})}(n)))}return wa.get(e)}function ii(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"string"==typeof t&&(t=[t]);var r=t[0];return e.forEach(function(i,o){r+=i&&"Document"===i.kind?i.loc.source.body:i,r+=t[o+1]}),Hk(r)}var Eo_gql=ii,Eo_resetCaches=function $k(){wa.clear(),ud.clear()},Eo_disableFragmentWarnings=function Uk(){h_=!1},Eo_enableExperimentalFragmentVariables=function qk(){Ca=!0},Eo_disableExperimentalFragmentVariables=function Qk(){Ca=!1};(function(t){t.gql=Eo_gql,t.resetCaches=Eo_resetCaches,t.disableFragmentWarnings=Eo_disableFragmentWarnings,t.enableExperimentalFragmentVariables=Eo_enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Eo_disableExperimentalFragmentVariables})(ii||(ii={})),ii.default=ii;const ve=ii;let Gk=(()=>{class t{constructor(n){this.apollo=n}request(n){var r=this;return je(function*(i,o={}){return r.apollo.query({query:ve`${i}`,variables:o}).toPromise().then(s=>s.data)}).apply(this,arguments)}getDeviceById(n){var r=this;return je(function*(){return r.request('\n      query GetDeviceById($deviceId: String!) {\n        protocolFieldsStructs(condition: {\n          fieldName: "id",\n          value: $deviceId\n        }) {\n          edges {\n            node {\n              value\n              protocolId\n              created\n            }\n          }\n        }\n      }\n    ',{deviceId:n})})()}getTenantDeviceByName(n,r){var i=this;return je(function*(){return i.request('\n      query GetTenantDeviceByName($tenantId: String!, $deviceName: String!) {\n        protocolFieldsStructs(condition: {\n          fieldName: "name",\n          value: $deviceName\n        }) {\n          edges {\n            node {\n              value\n              protocolId\n              created\n              # Filter by tenant in the result\n              tenantField: protocolFieldsStructs(condition: {\n                fieldName: "tenantId",\n                value: $tenantId,\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n            }\n          }\n        }\n      }\n    ',{tenantId:n,deviceName:r})})()}findDevicesByQuery(n,r,i){var o=this;return je(function*(s,a,u,c=50){return o.request(`\n      query FindDevicesByQuery(\n        $deviceTypes: [String!]\n        $textSearch: String\n        $limit: Int\n      ) {\n        protocolFieldsStructs(\n          condition: {\n            fieldName: "type"\n            ${a?"value: {in: $deviceTypes}":""}\n          }\n          ${u?'\n          filter: {\n            or: [\n              {fieldName: "name", value: {like: $textSearch}},\n              {fieldName: "label", value: {like: $textSearch}}\n            ]\n          }\n          ':""}\n          first: $limit\n        ) {\n          edges {\n            node {\n              value\n              protocolId\n              created\n            }\n          }\n          totalCount\n        }\n      }\n    `,{deviceTypes:a,textSearch:u,limit:c})}).apply(this,arguments)}getDeviceInfoById(n){var r=this;return je(function*(){return r.request('\n      query GetDeviceInfo($deviceId: String!) {\n        device: protocolFieldsStructs(condition: {\n          protocolId: $deviceId\n        }) {\n          edges {\n            node {\n              value\n              created\n              protocolId\n              # Join customer information\n              customerInfo: protocolFieldsStructs(condition: {\n                fieldName: "customerId"\n                protocolId: $deviceId\n              }) {\n                edges { \n                  node { \n                    value \n                    # Get customer title\n                    customerDetails: protocolFieldsStructs(condition: {\n                      protocolId: node.value\n                    }) {\n                      edges { node { value } }\n                    }\n                  } \n                }\n              }\n              # Join device profile information\n              deviceProfile: protocolFieldsStructs(condition: {\n                fieldName: "deviceProfileId"\n                protocolId: $deviceId\n              }) {\n                edges { \n                  node { \n                    value\n                    profileDetails: protocolFieldsStructs(condition: {\n                      protocolId: node.value\n                    }) {\n                      edges { node { value } }\n                    }\n                  } \n                }\n              }\n            }\n          }\n        }\n      }\n    ',{deviceId:n})})()}getCustomerDeviceInfos(n){var r=this;return je(function*(i,o=20,s=0,a){return r.request(`\n      query GetCustomerDeviceInfos(\n        $customerId: String!\n        $pageSize: Int!\n        $offset: Int!\n        $deviceType: String\n      ) {\n        protocolFieldsStructs(\n          condition: {\n            fieldName: "customerId"\n            value: $customerId\n          }\n          ${a?'filter: {fieldName: "type", value: $deviceType}':""}\n          first: $pageSize\n          offset: $offset\n          orderBy: CREATED_DESC\n        ) {\n          edges {\n            node {\n              value\n              protocolId\n              created\n              # Get device details\n              deviceDetails: protocolFieldsStructs(condition: {\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n              # Get device profile info\n              profileInfo: protocolFieldsStructs(condition: {\n                fieldName: "deviceProfileId"\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n            }\n          }\n          totalCount\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n          }\n        }\n      }\n    `,{customerId:i,pageSize:o,offset:s*o,deviceType:a})}).apply(this,arguments)}getTenantDeviceInfos(n){var r=this;return je(function*(i,o=20,s=0,a,u){return r.request(`\n      query GetTenantDeviceInfos(\n        $tenantId: String!\n        $pageSize: Int!\n        $offset: Int!\n        $deviceType: String\n      ) {\n        protocolFieldsStructs(\n          condition: {\n            fieldName: "tenantId"\n            value: $tenantId\n          }\n          ${a?'filter: {fieldName: "type", value: $deviceType}':""}\n          first: $pageSize\n          offset: $offset\n          orderBy: CREATED_DESC\n        ) {\n          edges {\n            node {\n              value\n              protocolId\n              created\n              # Get full device details\n              deviceDetails: protocolFieldsStructs(condition: {\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n              # Get customer assignment if any\n              customerAssignment: protocolFieldsStructs(condition: {\n                fieldName: "customerId"\n                protocolId: node.protocolId\n              }) {\n                edges { \n                  node { \n                    value\n                    customerTitle: protocolFieldsStructs(condition: {\n                      protocolId: node.value\n                    }) {\n                      edges { node { value } }\n                    }\n                  } \n                }\n              }\n              # Get device profile\n              deviceProfile: protocolFieldsStructs(condition: {\n                fieldName: "deviceProfileId"\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n            }\n          }\n          totalCount\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n        }\n      }\n    `,{tenantId:i,pageSize:o,offset:s*o,deviceType:a})}).apply(this,arguments)}getDeviceLimits(){var n=this;return je(function*(){return n.request('\n      query GetDeviceLimits {\n        deviceLimits: protocolFieldsStructs(\n          condition: {\n            fieldName: "maxDevicesPerTenant"\n            protocolName: "deviceManagement.DeviceManagement"\n          }\n        ) {\n          edges {\n            node {\n              value\n              # Get related limits\n              maxCustomer: protocolFieldsStructs(condition: {\n                fieldName: "maxDevicesPerCustomer"\n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n              maxProfile: protocolFieldsStructs(condition: {\n                fieldName: "maxDevicesPerProfile" \n                protocolId: node.protocolId\n              }) {\n                edges { node { value } }\n              }\n            }\n          }\n        }\n      }\n    ',{})})()}getDeviceInfoByIdObservable(n){return this.apollo.query({query:ve`
        query GetDeviceInfo($deviceId: String!) {
          protocolFieldsStructs(
            filter: {
              field: { equalTo: "id" },
              value: { equalTo: $deviceId }
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
          }
        }
      `,variables:{deviceId:n}}).pipe(M(r=>this.transformDeviceInfoResult(r)))}getCustomerDevices(n,r=10,i=0){return this.apollo.query({query:ve`
        query GetCustomerDevices($customerId: String!, $first: Int!, $offset: Int!) {
          protocolFieldsStructs(
            first: $first
            offset: $offset
            filter: {
              field: { equalTo: "customerId" },
              value: { equalTo: $customerId }
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
            totalCount
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
          }
        }
      `,variables:{customerId:n,first:r,offset:i*r}}).pipe(M(o=>{var s;return null===(s=o.data)||void 0===s?void 0:s.protocolFieldsStructs}))}getCustomerDeviceInfosObservable(n,r=10,i=0){return this.getCustomerDevices(n,r,i).pipe(M(o=>this.transformDeviceInfosFromConnection(o)))}getDeviceCredentials(n){return this.apollo.query({query:ve`
        query GetDeviceCredentials($deviceId: String!) {
          protocolFieldsStructs(
            filter: {
              field: { equalTo: "id" },
              value: { equalTo: $deviceId }
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
              }
            }
          }
        }
      `,variables:{deviceId:n}}).pipe(M(r=>this.transformDeviceCredentialsResult(r,n)))}getDevicesByIds(n){return this.apollo.query({query:ve`
        query GetDevicesByIds($deviceIds: [String!]!) {
          protocolFieldsStructs(
            filter: {
              field: { equalTo: "id" },
              value: { in: $deviceIds }
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
              }
            }
          }
        }
      `,variables:{deviceIds:n}}).pipe(M(r=>this.transformMultipleDevicesResult(r)))}getDevicesByQuery(n,r=10,i=0){return this.apollo.query({query:ve`
        query GetDevicesByQuery($query: String!, $first: Int!, $offset: Int!) {
          protocolFieldsStructs(
            first: $first
            offset: $offset
            filter: {
              or: [
                { field: { equalTo: "name" }, value: { includesInsensitive: $query } },
                { field: { equalTo: "label" }, value: { includesInsensitive: $query } },
                { field: { equalTo: "type" }, value: { includesInsensitive: $query } }
              ]
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
            totalCount
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
          }
        }
      `,variables:{query:n,first:r,offset:i*r}}).pipe(M(o=>{var s;return null===(s=o.data)||void 0===s?void 0:s.protocolFieldsStructs}))}countDevicesByProfile(n,r){const i={field:{equalTo:"deviceProfileId"},value:{equalTo:n}};return r&&(i.and=[{field:{equalTo:"FIRMWARE"===r?"firmwareId":"softwareId"},value:{isNotNull:!0}}]),this.apollo.query({query:ve`
        query CountDevicesByProfile($filter: ProtocolFieldsStructFilter!) {
          protocolFieldsStructs(filter: $filter) {
            totalCount
          }
        }
      `,variables:{filter:i}}).pipe(M(o=>{var s,a;return(null===(a=null===(s=o.data)||void 0===s?void 0:s.protocolFieldsStructs)||void 0===a?void 0:a.totalCount)||0}))}getTenantDevices(n=10,r=0,i){return this.apollo.query({query:ve`
        query GetDevices($first: Int!, $offset: Int!, $filter: ProtocolFieldsStructFilter) {
          protocolFieldsStructs(
            first: $first
            offset: $offset
            filter: $filter
          ) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
            totalCount
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
          }
        }
      `,variables:{first:n,offset:r*n,filter:i}}).pipe(M(o=>{var s;return null===(s=o.data)||void 0===s?void 0:s.protocolFieldsStructs}))}getDevicesByProfile(n,r=10,i=0){return this.apollo.query({query:ve`
        query DevicesByProfile($profileId: String!, $first: Int!, $offset: Int!) {
          protocolFieldsStructs(
            first: $first
            offset: $offset
            filter: {
              field: { equalTo: "deviceProfileId" },
              value: { equalTo: $profileId }
            }
          ) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
            totalCount
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
          }
        }
      `,variables:{profileId:n,first:r,offset:i*r}}).pipe(M(o=>{var s;return null===(s=o.data)||void 0===s?void 0:s.protocolFieldsStructs}))}getDeviceTypes(){return this.apollo.query({query:ve`
        query DeviceTypes {
          protocolFieldsStructs(
            filter: { field: { equalTo: "type" } }
          ) {
            groupBy {
              value
              count
            }
          }
        }
      `}).pipe(M(n=>{var r,i,o;return(null===(o=null===(i=null===(r=n.data)||void 0===r?void 0:r.protocolFieldsStructs)||void 0===i?void 0:i.groupBy)||void 0===o?void 0:o.map(s=>s.value).sort())||[]}))}searchDevicesAdvanced(n){const r=[];return n.textSearch&&r.push({or:[{field:{equalTo:"name"},value:{includesInsensitive:n.textSearch}},{field:{equalTo:"label"},value:{includesInsensitive:n.textSearch}}]}),n.type&&r.push({field:{equalTo:"type"},value:{equalTo:n.type}}),n.profileId&&r.push({field:{equalTo:"deviceProfileId"},value:{equalTo:n.profileId}}),void 0!==n.hasCredentials&&r.push({field:{equalTo:"credentials"},value:n.hasCredentials?{isNotNull:!0}:{isNull:!0}}),this.apollo.query({query:ve`
        query SearchDevices($filter: ProtocolFieldsStructFilter!) {
          protocolFieldsStructs(filter: $filter) {
            edges {
              node {
                value
                protocolId
                field
                created
              }
            }
            totalCount
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
          }
        }
      `,variables:{filter:{and:r}}}).pipe(M(i=>{var o;return null===(o=i.data)||void 0===o?void 0:o.protocolFieldsStructs}))}getDeviceStatistics(){return this.apollo.query({query:ve`
        query DeviceStatistics {
          totalDevices: protocolStates {
            totalCount
          }
          byType: protocolFieldsStructs(
            filter: { field: { equalTo: "type" } }
          ) {
            groupBy {
              value
              count
            }
          }
          byProfile: protocolFieldsStructs(
            filter: { field: { equalTo: "deviceProfileId" } }
          ) {
            groupBy {
              value
              count
            }
          }
          recentDevices: protocolStates(
            orderBy: CREATED_DESC
            first: 10
          ) {
            edges {
              node {
                protocolId
                created
              }
            }
          }
        }
      `}).pipe(M(n=>{var r,i,o,s,a,u,c,l;return{total:(null===(i=null===(r=n.data)||void 0===r?void 0:r.totalDevices)||void 0===i?void 0:i.totalCount)||0,byType:(null===(s=null===(o=n.data)||void 0===o?void 0:o.byType)||void 0===s?void 0:s.groupBy)||[],byProfile:(null===(u=null===(a=n.data)||void 0===a?void 0:a.byProfile)||void 0===u?void 0:u.groupBy)||[],recent:(null===(l=null===(c=n.data)||void 0===c?void 0:c.recentDevices)||void 0===l?void 0:l.edges)||[]}}))}transformDeviceResult(n){var r,i;const o=(null===(i=null===(r=n.data)||void 0===r?void 0:r.protocolFieldsStructs)||void 0===i?void 0:i.edges)||[];return o.length?o.reduce((s,a)=>{const u=a.node;return s[u.field]=u.value,s.protocolId=u.protocolId,s},{}):null}transformDeviceInfoResult(n){const r=this.transformDeviceResult(n);return r?{id:r.id,name:r.name,type:r.type,label:r.label,deviceProfileId:r.deviceProfileId,customerId:r.customerId,active:!0,lastActivityTime:r.createdTime}:null}transformDeviceInfosFromConnection(n){if(!n||!n.edges)return[];const r=new Map;return n.edges.forEach(i=>{const o=i.node.protocolId;r.has(o)||r.set(o,{});const s=r.get(o);s[i.node.field]=i.node.value,s.protocolId=o}),Array.from(r.values()).map(i=>({id:i.id,name:i.name,type:i.type,label:i.label,deviceProfileId:i.deviceProfileId,customerId:i.customerId,active:!0,lastActivityTime:i.createdTime}))}transformDeviceCredentialsResult(n,r){const i=this.transformDeviceResult(n);return i&&i.credentials?{id:`${r}_credentials`,deviceId:r,credentialsType:"ACCESS_TOKEN",credentialsId:i.credentials,credentialsValue:i.credentials}:null}transformMultipleDevicesResult(n){var r,i;const o=(null===(i=null===(r=n.data)||void 0===r?void 0:r.protocolFieldsStructs)||void 0===i?void 0:i.edges)||[],s=new Map;return o.forEach(a=>{const u=a.node.protocolId;s.has(u)||s.set(u,{});const c=s.get(u);c[a.node.field]=a.node.value,c.protocolId=u}),Array.from(s.values())}}return t.\u0275fac=function(n){return new(n||t)(A(pa))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zk=(()=>{class t{constructor(n,r){this.nplService=n,this.graphqlService=r}isReadOperation(n){const r=n.url;return"GET"===n.method&&[/^\/api\/tenant\/devices$/,/^\/api\/tenant\/deviceInfos$/,/^\/api\/customer\/([^\/]+)\/devices$/,/^\/api\/customer\/([^\/]+)\/deviceInfos$/,/^\/api\/devices$/,/^\/api\/device\/types$/,/^\/api\/devices\/count\/([^\/]+)\/([^\/]+)$/,/^\/api\/device\/limits$/,/^\/api\/device\/([^\/]+)$/,/^\/api\/device\/info\/([^\/]+)$/,/^\/api\/device\/([^\/]+)\/credentials$/,/^\/api\/plugins\/telemetry\/DEVICE\/([^\/]+)\/values\/timeseries$/,/^\/api\/plugins\/telemetry\/DEVICE\/([^\/]+)\/values\/attributes$/].some(s=>s.test(r))}isWriteOperation(n){const r=n.url,i=n.method;return"GET"!==i&&([{pattern:/^\/api\/device$/,methods:["POST","PUT"]},{pattern:/^\/api\/device\/([^\/]+)$/,methods:["DELETE"]},{pattern:/^\/api\/customer\/([^\/]+)\/device\/([^\/]+)$/,methods:["POST"]},{pattern:/^\/api\/customer\/device\/([^\/]+)$/,methods:["DELETE"]},{pattern:/^\/api\/device\/credentials$/,methods:["POST"]},{pattern:/^\/api\/customer\/device\/([^\/]+)\/claim$/,methods:["POST","DELETE"]},{pattern:/^\/api\/devices\/bulk$/,methods:["POST"]},{pattern:/^\/api\/devices\/bulk\/import$/,methods:["POST"]},{pattern:/^\/api\/device\/limits$/,methods:["PUT"]}].some(a=>a.pattern.test(r)&&a.methods.includes(i))||[{pattern:/^\/api\/tenant$/,methods:["POST","PUT"]},{pattern:/^\/api\/tenant\/([^\/]+)$/,methods:["DELETE"]},{pattern:/^\/api\/tenants\/bulk$/,methods:["POST"]},{pattern:/^\/api\/tenants\/bulk\/import$/,methods:["POST"]},{pattern:/^\/api\/tenants\/bulk\/delete$/,methods:["POST"]}].some(a=>a.pattern.test(r)&&a.methods.includes(i)))}transformToGraphQL(n){const r=n.url,i=n.method;if("GET"===i&&"/api/tenant/devices"===r){const f=parseInt(this.getQueryParam(n,"pageSize")||"10"),d=parseInt(this.getQueryParam(n,"page")||"0");return this.graphqlService.getTenantDevices(f,d).pipe(M(h=>this.createHttpResponse(n,h)))}if("GET"===i&&"/api/tenant/deviceInfos"===r){const f=parseInt(this.getQueryParam(n,"pageSize")||"10"),d=parseInt(this.getQueryParam(n,"page")||"0"),h=this.getCurrentTenantId();return Ln(this.graphqlService.getTenantDeviceInfos(h,f,d)).pipe(M(p=>this.createHttpResponse(n,p)))}const o=r.match(/^\/api\/customer\/([^\/]+)\/devices$/);if("GET"===i&&o){const f=o[1],d=parseInt(this.getQueryParam(n,"pageSize")||"10"),h=parseInt(this.getQueryParam(n,"page")||"0");return this.graphqlService.getCustomerDevices(f,d,h).pipe(M(p=>this.createHttpResponse(n,p)))}const s=r.match(/^\/api\/customer\/([^\/]+)\/deviceInfos$/);if("GET"===i&&s){const f=s[1],d=parseInt(this.getQueryParam(n,"pageSize")||"10"),h=parseInt(this.getQueryParam(n,"page")||"0");return this.graphqlService.getCustomerDeviceInfosObservable(f,d,h).pipe(M(p=>this.createHttpResponse(n,p)))}if("GET"===i&&"/api/devices"===r){const f=parseInt(this.getQueryParam(n,"pageSize")||"10"),d=parseInt(this.getQueryParam(n,"page")||"0"),h=this.getQueryParam(n,"textSearch")||"";return this.graphqlService.getDevicesByQuery(h,f,d).pipe(M(p=>this.createHttpResponse(n,p)))}if("GET"===i&&"/api/device/types"===r)return this.graphqlService.getDeviceTypes().pipe(M(f=>this.createHttpResponse(n,f)));const a=r.match(/^\/api\/devices\/count\/([^\/]+)\/([^\/]+)$/);if("GET"===i&&a)return this.graphqlService.countDevicesByProfile(a[2],a[1]).pipe(M(h=>this.createHttpResponse(n,h)));if("GET"===i&&"/api/device/limits"===r)return Ln(this.graphqlService.getDeviceLimits()).pipe(M(f=>this.createHttpResponse(n,f)));const u=r.match(/^\/api\/device\/([^\/]+)$/);if("GET"===i&&u)return this.graphqlService.getDeviceInfoByIdObservable(u[1]).pipe(M(d=>this.createHttpResponse(n,d)));const c=r.match(/^\/api\/device\/info\/([^\/]+)$/);if("GET"===i&&c)return this.graphqlService.getDeviceInfoByIdObservable(c[1]).pipe(M(d=>this.createHttpResponse(n,d)));const l=r.match(/^\/api\/device\/([^\/]+)\/credentials$/);if("GET"===i&&l)return this.graphqlService.getDeviceCredentials(l[1]).pipe(M(d=>this.createHttpResponse(n,d)));throw new Error(`Unhandled GraphQL transformation for: ${i} ${r}`)}transformToNPL(n){var r;const i=n.url,o=n.method,s=this.extractAuthToken(n);if("POST"===o&&"/api/device"===i){const h=Object.assign({},n.body);return delete h.tenantId,this.nplService.saveDevice(h,s).pipe(M(p=>this.createHttpResponse(n,p)))}if("PUT"===o&&"/api/device"===i)return this.nplService.saveDevice(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));const a=i.match(/\/api\/device\/([^/]+)$/);if("DELETE"===o&&a)return this.nplService.deleteDevice(a[1],s).pipe(M(h=>this.createHttpResponse(n,{success:h})));const u=i.match(/\/api\/customer\/([^/]+)\/device\/([^\/]+)$/);if("POST"===o&&u)return this.nplService.assignDeviceToCustomer(u[2],u[1],s).pipe(M(p=>this.createHttpResponse(n,p)));const c=i.match(/\/api\/customer\/device\/([^\/]+)$/);if("DELETE"===o&&c)return this.nplService.unassignDeviceFromCustomer(c[1],s).pipe(M(h=>this.createHttpResponse(n,h)));if("POST"===o&&"/api/device/credentials"===i){const d=n.body;return this.nplService.updateDeviceCredentials(d.deviceId,{deviceId:d.deviceId,credentialsType:d.credentialsType||"ACCESS_TOKEN",credentialsId:d.credentialsId||d.deviceId,credentialsValue:d.credentialsValue},s).pipe(M(p=>this.createHttpResponse(n,p)))}const l=i.match(/\/api\/customer\/device\/([^/]+)\/claim$/);if("POST"===o&&l){const h=(null===(r=n.body)||void 0===r?void 0:r.secretKey)||"";return this.nplService.claimDevice(l[1],h,s).pipe(M(p=>this.createHttpResponse(n,p)))}if("DELETE"===o&&l)return this.nplService.reclaimDevice(l[1],s).pipe(M(h=>this.createHttpResponse(n,h)));if("POST"===o&&"/api/tenant"===i)return this.nplService.createTenant(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));if("PUT"===o&&"/api/tenant"===i)return this.nplService.updateTenant(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));const f=i.match(/\/api\/tenant\/([^/]+)$/);if("DELETE"===o&&f)return this.nplService.deleteTenant(f[1],s).pipe(M(h=>this.createHttpResponse(n,{success:h})));if("POST"===o&&"/api/tenants/bulk"===i)return this.nplService.bulkImportTenants(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));if("POST"===o&&"/api/tenants/bulk/import"===i)return this.nplService.bulkImportTenants(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));if("POST"===o&&"/api/tenants/bulk/delete"===i)return this.nplService.bulkDeleteTenants(n.body,s).pipe(M(h=>this.createHttpResponse(n,h)));throw new Error(`Unhandled NPL transformation for: ${o} ${i}`)}createHttpResponse(n,r){return new qe({body:r,status:200,statusText:"OK",url:n.url})}getQueryParam(n,r){return new URL(n.url,"http://localhost").searchParams.get(r)}transformConnectionToThingsBoard(n){return{pageSize:n.pageSize,page:n.page,totalElements:n.totalElements,totalPages:n.totalPages,hasNext:n.hasNext,hasPrevious:n.hasPrevious,data:n.data||[]}}transformConnectionToDeviceInfos(n){return{pageSize:n.pageSize,page:n.page,totalElements:n.totalElements,totalPages:n.totalPages,hasNext:n.hasNext,hasPrevious:n.hasPrevious,data:n.data||[]}}getCurrentTenantId(){return"7211c450-742e-11f0-9d1a-913de8284e4f"}extractAuthToken(n){const r=n.headers.get("Authorization");if(r&&r.startsWith("Bearer "))return r.substring(7)}}return t.\u0275fac=function(n){return new(n||t)(A(bk),A(Gk))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wk=(()=>{class t{constructor(n){this.transformer=n}intercept(n,r){const i=id();if(!i.enableInterceptor)return i.enableLogging&&console.log(`\u{1f515} NPL Interceptor disabled - passing through: ${n.method} ${n.url}`),r.handle(n);const o=function vk(t){const e=function Dk(t){try{return new URL(t,"http://localhost").pathname}catch(e){return t.split("?")[0]}}(t.url),n=t.method;return yk.find(r=>r.pattern.test(e)&&r.methods.includes(n))||null}(n);return o?"read"===o.operation&&i.enableGraphQL?(i.enableLogging&&console.log(`\u{1f504} Routing ${o.feature} READ request to GraphQL: ${n.method} ${n.url}`),this.transformer.transformToGraphQL(n).pipe(bo(s=>(i.enableLogging&&console.error("GraphQL transformation failed, falling back to ThingsBoard:",s),r.handle(n))))):"write"===o.operation&&i.enableNplEngine?(i.enableLogging&&console.log(`\u{1f504} Routing ${o.feature} WRITE request to NPL: ${n.method} ${n.url}`),this.transformer.transformToNPL(n).pipe(bo(s=>(i.enableLogging&&console.error("NPL transformation failed, falling back to ThingsBoard:",s),r.handle(n))))):(i.enableLogging&&console.log(`\u27a1\ufe0f Passing through to ThingsBoard: ${n.method} ${n.url}`),r.handle(n)):(i.enableLogging&&console.log(`\u27a1\ufe0f No modernization route match - passing through: ${n.method} ${n.url}`),r.handle(n))}}return t.\u0275fac=function(n){return new(n||t)(A(zk))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),Kk=(()=>{class t{constructor(){this.readEndpoints=["/api/device/{id}","/api/device/info/{id}","/api/devices","/api/deviceInfos","/api/device/{deviceId}/credentials","/api/device/{deviceId}/relations","/api/device/{deviceId}/alarms","/api/device/{deviceId}/events","/api/device/{deviceId}/telemetry"],this.writeEndpoints=["/api/device","/api/device/{id}","/api/device/{deviceId}/assign","/api/device/{deviceId}/unassign","/api/devices/bulk","/api/devices/bulk/delete","/api/device/{deviceId}/credentials"]}intercept(n,r){const i=n.url,o=n.method;return this.isDeviceRequest(i)?this.isWriteOperation(i,o)?this.routeToNplEngine(n,r):this.routeToGraphQL(n,r):r.handle(n)}isDeviceRequest(n){return n.includes("/api/device")||n.includes("/api/devices")}isWriteOperation(n,r){const i="POST"===r||"PUT"===r||"DELETE"===r,o=this.writeEndpoints.some(s=>{const a=s.replace(/\{.*?\}/g,"[^/]+");return new RegExp(a.replace(/\//g,"\\/")).test(n)});return i&&o}routeToNplEngine(n,r){const i=this.transformToNplUrl(n.url);console.log(`\u{1f504} Device Interceptor: Routing to NPL Engine: ${n.url} -> ${i}`);const o=n.clone({url:i,headers:n.headers.set("X-NPL-Modernization","device")});return r.handle(o).pipe(va(s=>{s instanceof qe&&console.log(`\u2705 Device NPL Engine Response: ${s.status}`)}))}routeToGraphQL(n,r){const i=this.transformToGraphQLUrl(n.url);console.log(`\u{1f504} Device Interceptor: Routing to GraphQL: ${n.url} -> ${i}`);const o=n.clone({url:i,headers:n.headers.set("X-GraphQL-Modernization","device")});return r.handle(o).pipe(va(s=>{s instanceof qe&&console.log(`\u2705 Device GraphQL Response: ${s.status}`)}))}transformToNplUrl(n){const r="/api/npl";return n.includes("/api/devices/bulk/delete")?`${r}/deviceManagement.DeviceManagement/bulkDeleteDevices`:n.includes("/api/devices/bulk")?`${r}/deviceManagement.DeviceManagement/bulkImportDevices`:n.includes("/api/device")&&!n.includes("/api/devices")?n.includes("/assign")?`${r}/deviceManagement.DeviceManagement/assignDeviceToCustomer`:n.includes("/unassign")?`${r}/deviceManagement.DeviceManagement/unassignDeviceFromCustomer`:n.includes("/credentials")?`${r}/deviceManagement.DeviceManagement/updateDeviceCredentials`:`${r}/deviceManagement.DeviceManagement/saveDevice`:n}transformToGraphQLUrl(n){return"/api/graphql"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),Jk=(()=>{class t{constructor(n){this.http=n,this.baseUrl="/api/npl"}createTenant(n){return this.http.post(`${this.baseUrl}/tenantManagement.TenantManagement/createTenant`,{tenantData:n,party:this.getCurrentParty()})}updateTenant(n,r){return this.http.put(`${this.baseUrl}/tenantManagement.TenantManagement/updateTenant`,{id:n,tenantData:r,party:this.getCurrentParty()})}deleteTenant(n){return this.http.delete(`${this.baseUrl}/tenantManagement.TenantManagement/deleteTenant`,{body:{id:n,party:this.getCurrentParty()}})}bulkImportTenants(n){return this.http.post(`${this.baseUrl}/tenantManagement.TenantManagement/bulkImportTenants`,{tenantDataList:n,party:this.getCurrentParty()})}bulkDeleteTenants(n){return this.http.post(`${this.baseUrl}/tenantManagement.TenantManagement/bulkDeleteTenants`,{tenantIds:n,party:this.getCurrentParty()})}initializeProtocol(){return this.http.post(`${this.baseUrl}/protocol/instantiate`,{protocolName:"tenantManagement.TenantManagement",party:this.getCurrentParty()}).pipe(M(n=>n.protocolId))}getCurrentParty(){return{entity:{email:["sysadmin@thingsboard.org"]},access:{}}}}return t.\u0275fac=function(n){return new(n||t)(A(eo))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yk=(()=>{class t{constructor(n){this.apollo=n}getTenants(){return this.apollo.query({query:ve`
        query GetTenants {
          tenants {
            id
            name
            title
            region
            country
            stateName
            city
            address
            address2
            zip
            phone
            email
            limits {
              maxUsers
              maxDevices
              maxAssets
              maxCustomers
            }
            createdTime
            additionalInfo
          }
        }
      `}).pipe(M(n=>n.data.tenants))}getTenant(n){return this.apollo.query({query:ve`
        query GetTenant($id: ID!) {
          tenant(id: $id) {
            id
            name
            title
            region
            country
            stateName
            city
            address
            address2
            zip
            phone
            email
            limits {
              maxUsers
              maxDevices
              maxAssets
              maxCustomers
            }
            createdTime
            additionalInfo
          }
        }
      `,variables:{id:n}}).pipe(M(r=>r.data.tenant))}getTenantInfo(n){return this.apollo.query({query:ve`
        query GetTenantInfo($id: ID!) {
          tenantInfo(id: $id) {
            tenant {
              id
              name
              title
              region
              country
              stateName
              city
              address
              address2
              zip
              phone
              email
              limits {
                maxUsers
                maxDevices
                maxAssets
                maxCustomers
              }
              createdTime
              additionalInfo
            }
            tenantProfileName
          }
        }
      `,variables:{id:n}}).pipe(M(r=>r.data.tenantInfo))}getTenantInfos(){return this.apollo.query({query:ve`
        query GetTenantInfos {
          tenantInfos {
            tenant {
              id
              name
              title
              region
              country
              stateName
              city
              address
              address2
              zip
              phone
              email
              limits {
                maxUsers
                maxDevices
                maxAssets
                maxCustomers
              }
              createdTime
              additionalInfo
            }
            tenantProfileName
          }
        }
      `}).pipe(M(n=>n.data.tenantInfos))}getTenantsPaginated(n,r){return this.apollo.query({query:ve`
        query GetTenantsPaginated($pageSize: Int!, $page: Int!) {
          tenantsPaginated(pageSize: $pageSize, page: $page) {
            data {
              id
              name
              title
              region
              country
              stateName
              city
              address
              address2
              zip
              phone
              email
              limits {
                maxUsers
                maxDevices
                maxAssets
                maxCustomers
              }
              createdTime
              additionalInfo
            }
            totalPages
            totalElements
            hasNext
          }
        }
      `,variables:{pageSize:n,page:r}}).pipe(M(i=>i.data.tenantsPaginated))}getTenantInfosPaginated(n,r){return this.apollo.query({query:ve`
        query GetTenantInfosPaginated($pageSize: Int!, $page: Int!) {
          tenantInfosPaginated(pageSize: $pageSize, page: $page) {
            data {
              tenant {
                id
                name
                title
                region
                country
                stateName
                city
                address
                address2
                zip
                phone
                email
                limits {
                  maxUsers
                  maxDevices
                  maxAssets
                  maxCustomers
                }
                createdTime
                additionalInfo
              }
              tenantProfileName
            }
            totalPages
            totalElements
            hasNext
          }
        }
      `,variables:{pageSize:n,page:r}}).pipe(M(i=>i.data.tenantInfosPaginated))}searchTenants(n){return this.apollo.query({query:ve`
        query SearchTenants($searchTerm: String!) {
          searchTenants(searchTerm: $searchTerm) {
            id
            name
            title
            region
            country
            stateName
            city
            address
            address2
            zip
            phone
            email
            limits {
              maxUsers
              maxDevices
              maxAssets
              maxCustomers
            }
            createdTime
            additionalInfo
          }
        }
      `,variables:{searchTerm:n}}).pipe(M(r=>r.data.searchTenants))}getTenantCount(){return this.apollo.query({query:ve`
        query GetTenantCount {
          tenantCount
        }
      `}).pipe(M(n=>n.data.tenantCount))}tenantExists(n){return this.apollo.query({query:ve`
        query TenantExists($id: ID!) {
          tenantExists(id: $id)
        }
      `,variables:{id:n}}).pipe(M(r=>r.data.tenantExists))}getTenantByName(n){return this.apollo.query({query:ve`
        query GetTenantByName($name: String!) {
          tenantByName(name: $name) {
            id
            name
            title
            region
            country
            stateName
            city
            address
            address2
            zip
            phone
            email
            limits {
              maxUsers
              maxDevices
              maxAssets
              maxCustomers
            }
            createdTime
            additionalInfo
          }
        }
      `,variables:{name:n}}).pipe(M(r=>r.data.tenantByName))}request(n,r){return this.apollo.query({query:n,variables:r}).pipe(M(i=>{const o=Object.keys(i.data)[0];return i.data[o]}))}}return t.\u0275fac=function(n){return new(n||t)(A(pa))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zk=(()=>{class t{constructor(n,r){this.tenantNplService=n,this.tenantGraphQLService=r}intercept(n,r){return this.isTenantWriteOperation(n)?this.routeToNplEngine(n,r):this.isTenantReadOperation(n)?this.routeToGraphQL(n,r):r.handle(n)}isTenantWriteOperation(n){const r=n.url,i=n.method;return"GET"!==i&&[{pattern:/^\/api\/tenant$/,methods:["POST"]},{pattern:/^\/api\/tenant\/([^\/]+)$/,methods:["PUT","DELETE"]},{pattern:/^\/api\/tenants\/bulk$/,methods:["POST"]},{pattern:/^\/api\/tenants\/bulk\/delete$/,methods:["POST"]}].some(s=>s.pattern.test(r)&&s.methods.includes(i))}isTenantReadOperation(n){const r=n.url;return"GET"===n.method&&[/^\/api\/tenant\/([^\/]+)$/,/^\/api\/tenant\/info\/([^\/]+)$/,/^\/api\/tenants(\?.*)?$/,/^\/api\/tenantInfos(\?.*)?$/].some(s=>s.test(r))}routeToNplEngine(n,r){const i=n.url,o=n.method,s=n.body;if("POST"===o&&"/api/tenant"===i)return this.tenantNplService.createTenant(s).pipe(M(a=>new qe({body:a})));if("PUT"===o&&i.match(/^\/api\/tenant\/([^\/]+)$/)){const a=i.split("/").pop();return a?this.tenantNplService.updateTenant(a,s).pipe(M(u=>new qe({body:u}))):r.handle(n)}if("DELETE"===o&&i.match(/^\/api\/tenant\/([^\/]+)$/)){const a=i.split("/").pop();return a?this.tenantNplService.deleteTenant(a).pipe(M(()=>new qe({status:200}))):r.handle(n)}return"POST"===o&&"/api/tenants/bulk"===i?this.tenantNplService.bulkImportTenants(s).pipe(M(a=>new qe({body:a}))):"POST"===o&&"/api/tenants/bulk/delete"===i?this.tenantNplService.bulkDeleteTenants(s.tenantIds).pipe(M(a=>new qe({body:{deletedCount:a}}))):r.handle(n)}routeToGraphQL(n,r){const i=n.url,o=new URLSearchParams(n.params.toString());if(i.match(/^\/api\/tenant\/([^\/]+)$/)){const s=i.split("/").pop();return s?this.tenantGraphQLService.getTenant(s).pipe(M(a=>new qe({body:a}))):r.handle(n)}if(i.match(/^\/api\/tenant\/info\/([^\/]+)$/)){const s=i.split("/").pop();return s?this.tenantGraphQLService.getTenantInfo(s).pipe(M(a=>new qe({body:a}))):r.handle(n)}if(i.startsWith("/api/tenants")){const s=parseInt(o.get("pageSize")||"10"),a=parseInt(o.get("page")||"0");return this.tenantGraphQLService.getTenantsPaginated(s,a).pipe(M(u=>new qe({body:u})))}if(i.startsWith("/api/tenantInfos")){const s=parseInt(o.get("pageSize")||"10"),a=parseInt(o.get("page")||"0");return this.tenantGraphQLService.getTenantInfosPaginated(s,a).pipe(M(u=>new qe({body:u})))}return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(A(Jk),A(Yk))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),t})(),eR=(()=>{class t{constructor(n,r,i){this.apollo=n,this.httpLink=r,this.http=i,this.READ_MODEL_URL="/api/graphql",this.OIDC_PROXY_URL="http://localhost:8080"}getAuthToken(){var n=this;return je(function*(){const r={username:"tenant@thingsboard.org",password:"tenant"};try{const i=yield n.http.post(`${n.OIDC_PROXY_URL}/protocol/openid-connect/token`,r).toPromise();return(null==i?void 0:i.access_token)||""}catch(i){return console.error("Failed to get auth token:",i),""}})()}initializeApollo(){var n=this;return je(function*(){const r=n.httpLink.create({uri:n.READ_MODEL_URL}),i=function Xk(t){return new Yn(function(e,n){var r=hn(e,[]);return new ce(function(i){var o,s=!1;return Promise.resolve(r).then(function(a){return t(a,e.getContext())}).then(e.setContext).then(function(){s||(o=n(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){s=!0,o&&o.unsubscribe()}})})}(function(){var o=je(function*(s,{headers:a}){const u=yield n.getAuthToken();return{headers:Object.assign(Object.assign({},a),{authorization:u?`Bearer ${u}`:""})}});return function(s,a){return o.apply(this,arguments)}}());n.apollo.create({link:i.concat(r),cache:new i_({typePolicies:{Query:{fields:{protocolStates:{keyArgs:!1,merge:(o={edges:[]},s)=>Object.assign(Object.assign({},s),{edges:[...o.edges,...s.edges]})}}}}}),defaultOptions:{watchQuery:{errorPolicy:"all",fetchPolicy:"cache-and-network"},query:{errorPolicy:"all",fetchPolicy:"network-only"}}})})()}getApollo(){return this.apollo}}return t.\u0275fac=function(n){return new(n||t)(A(pa),A(Lb),A(eo))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tR extends Oo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}let cd=(()=>{class t{constructor(){this.statusSubject=new tR({isSupported:!1,isRegistered:!1,isActive:!1}),this.status$=this.statusSubject.asObservable(),this.checkServiceWorkerSupport()}checkServiceWorkerSupport(){const n="serviceWorker"in navigator;this.updateStatus({isSupported:n,isRegistered:!1,isActive:!1,error:n?void 0:"Service Workers not supported in this browser"}),n&&this.checkExistingRegistration()}checkExistingRegistration(){var n=this;return je(function*(){try{const r=yield navigator.serviceWorker.getRegistration();r&&(n.updateStatus({isSupported:!0,isRegistered:!0,isActive:null!==r.active}),n.setupRegistrationListeners(r))}catch(r){console.error("Error checking service worker registration:",r)}})()}registerServiceWorker(){var n=this;return je(function*(){if(!id().enableInterceptor)return n.log("\u{1f515} NPL Service Worker disabled by feature flag"),null;if(!n.statusSubject.value.isSupported){const i="Service Workers not supported in this browser";throw n.updateStatus(Object.assign(Object.assign({},n.statusSubject.value),{error:i})),new Error(i)}try{n.log("\u{1f680} Registering NPL Service Worker...");const i=yield navigator.serviceWorker.register("/npl-service-worker.js",{scope:"/"});return n.log("\u2705 NPL Service Worker registered successfully"),n.updateStatus({isSupported:!0,isRegistered:!0,isActive:null!==i.active}),n.setupRegistrationListeners(i),i.waiting&&(n.log("\u{1f4e4} Activating waiting service worker..."),i.waiting.postMessage({type:"SKIP_WAITING"})),i.addEventListener("updatefound",()=>{n.log("\u{1f504} Service Worker update found");const o=i.installing;o&&o.addEventListener("statechange",()=>{"installed"===o.state&&navigator.serviceWorker.controller&&n.log("\u{1f195} New Service Worker installed, will activate on next page load")})}),i}catch(i){const o=`Failed to register service worker: ${i instanceof Error?i.message:String(i)}`;throw n.log(`\u274c ${o}`),n.updateStatus({isSupported:!0,isRegistered:!1,isActive:!1,error:o}),i}})()}unregisterServiceWorker(){var n=this;return je(function*(){try{const r=yield navigator.serviceWorker.getRegistration();if(r){const i=yield r.unregister();return i&&(n.log("\u2705 NPL Service Worker unregistered"),n.updateStatus({isSupported:!0,isRegistered:!1,isActive:!1})),i}return!0}catch(r){return n.log(`\u274c Failed to unregister service worker: ${r instanceof Error?r.message:String(r)}`),!1}})()}setupRegistrationListeners(n){n.installing&&this.trackWorkerState(n.installing,"installing"),n.waiting&&this.trackWorkerState(n.waiting,"waiting"),n.active&&this.trackWorkerState(n.active,"active"),navigator.serviceWorker.addEventListener("controllerchange",()=>{this.log("\u{1f504} Service Worker controller changed"),this.updateStatus(Object.assign(Object.assign({},this.statusSubject.value),{isActive:!0}))}),navigator.serviceWorker.addEventListener("message",r=>{this.handleServiceWorkerMessage(r)})}trackWorkerState(n,r){n.addEventListener("statechange",()=>{this.log(`\u{1f4e1} Service Worker (${r}) state: ${n.state}`);const i="activated"===n.state||"redundant"===n.state;this.updateStatus(Object.assign(Object.assign({},this.statusSubject.value),{isActive:i}))})}handleServiceWorkerMessage(n){const r=n.data;if(r&&r.type)switch(r.type){case"NPL_ROUTE_SUCCESS":this.log(`\u2705 NPL routing success: ${r.route}`);break;case"NPL_ROUTE_ERROR":this.log(`\u274c NPL routing error: ${r.error}`);break;case"NPL_FALLBACK":this.log(`\u26a0\ufe0f NPL fallback: ${r.reason}`);break;default:this.log(`\u{1f4e8} Service Worker message: ${r.type}`)}}sendMessageToServiceWorker(n){navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n):this.log("\u26a0\ufe0f No active service worker to send message to")}getStatus(){return this.statusSubject.value}isReady(){const n=this.statusSubject.value;return n.isSupported&&n.isRegistered&&n.isActive&&!n.error}updateStatus(n){this.statusSubject.next(n)}log(n){id().enableLogging&&console.log(`[NPL SW Manager] ${n}`)}forceRefreshForUpdate(){return je(function*(){const n=yield navigator.serviceWorker.getRegistration();n&&n.waiting&&(n.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nR(t){return console.log("\u{1f680} Initializing NPL Service Worker Manager:",t.constructor.name),()=>{setTimeout(je(function*(){try{console.log("\u{1f504} Starting Service Worker registration..."),yield t.registerServiceWorker(),console.log("\u{1f389} NPL Service Worker ready for request interception")}catch(e){console.error("\u274c Failed to initialize NPL Service Worker:",e)}}),1e3)}}let g_=(()=>{class t{constructor(n){this.swManager=n,console.log("\u{1f3d7}\ufe0f OverlayModule constructor - forcing SW registration"),setTimeout(()=>{this.swManager.registerServiceWorker().then(()=>console.log("\u2705 Service Worker registered from constructor"),r=>console.error("\u274c Service Worker registration failed from constructor:",r))},1500)}}return t.\u0275fac=function(n){return new(n||t)(A(cd))},t.\u0275mod=sr({type:t}),t.\u0275inj=jn({providers:[eR,cd,{provide:sl,useFactory:nR,deps:[cd],multi:!0},{provide:to,useClass:Wk,multi:!0},{provide:to,useClass:Kk,multi:!0},{provide:to,useClass:Zk,multi:!0},{provide:Nb,deps:[Lb],useFactory:e=>({cache:new i_,link:e.create({uri:"/api/graphql"})})}],imports:[[wN,nk]]}),t})();setTimeout(()=>{const t=window.nplOverlayBootstrap;window.nplOverlayBootstrap=e=>{console.log("\u{1f3af} NPL Overlay Bootstrap intercepted - registering Service Worker directly"),"serviceWorker"in navigator?setTimeout(je(function*(){try{console.log("\u{1f504} Registering Service Worker from bootstrap override...");const n=yield navigator.serviceWorker.register("/npl-service-worker.js",{scope:"/"});console.log("\u2705 Service Worker registered successfully from bootstrap override:",n)}catch(n){console.error("\u274c Service Worker registration failed from bootstrap override:",n)}}),2e3):console.warn("\u26a0\ufe0f Service Workers not supported in this browser"),t&&t(e)}},100),window.nplOverlayBootstrap=t=>{Qv([{provide:"TB_ROOT_INJECTOR",useValue:t}]).bootstrapModule(g_).catch(e=>console.error(e))},window.ng&&document.querySelector("tb-root, app-root")&&Qv().bootstrapModule(g_)}},Y=>{Y(Y.s=457)}]);